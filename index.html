<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
  <meta http-equiv="Pragma" content="no-cache">
  <meta http-equiv="Expires" content="0">
  <title>Delf√≠n Check‚Äëin ¬∑ Software de gesti√≥n hotelera y auto check‚Äëin</title>
  <meta name="description" content="Delf√≠n Check‚Äëin: software para hoteles y alojamientos con reservas, check‚Äëin online, gesti√≥n de habitaciones y panel de administraci√≥n sencillo. Plan mensual o anual.">
  <meta name="keywords" content="software hotel, channel manager, check-in online, PMS, reservas, gesti√≥n de hoteles, motor de reservas, sistema hotelero, gesti√≥n de alojamientos, check-in autom√°tico, reservas online, panel administraci√≥n hotel, software gesti√≥n hotelera Espa√±a, sistema reservas hoteles, gesti√≥n habitaciones hotel, check-in digital hotel, software hotelero profesional, sistema gesti√≥n alojamientos tur√≠sticos, plataforma hotelera, software para hostales, gesti√≥n reservas hoteles, sistema check-in online, software hotelero completo, gesti√≥n hotelera digital, sistema reservas alojamientos, software gesti√≥n tur√≠stica, plataforma gesti√≥n hotelera, sistema hotelero integrado, software para hoteles peque√±os, gesti√≥n digital hoteles">
  <meta name="author" content="Delf√≠n Check-in">
  <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
  <meta name="googlebot" content="index, follow">
  <meta name="bingbot" content="index, follow">
  <meta name="language" content="Spanish">
  <meta name="geo.region" content="ES">
  <meta name="geo.country" content="Spain">
  <meta name="geo.placename" content="Espa√±a">
  <meta name="theme-color" content="#44c0ff">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Delf√≠n Check-in">
  <meta name="msapplication-TileColor" content="#44c0ff">
  <meta name="msapplication-config" content="/browserconfig.xml">
  <link rel="canonical" href="https://delfincheckin.com/">
  
  <!-- Additional SEO meta tags -->
  <meta name="format-detection" content="telephone=no">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="application-name" content="Delf√≠n Check-in">
  <meta name="msapplication-tooltip" content="Software de gesti√≥n hotelera">
  <meta name="msapplication-starturl" content="/">
  <meta name="msapplication-navbutton-color" content="#44c0ff">
  <meta name="msapplication-TileImage" content="/og-image.svg">
  
  <!-- Security headers -->
  <meta http-equiv="X-Content-Type-Options" content="nosniff">
  <meta http-equiv="X-Frame-Options" content="DENY">
  <meta http-equiv="X-XSS-Protection" content="1; mode=block">
  <meta property="og:type" content="website">
  <meta property="og:title" content="Delf√≠n Check‚Äëin ¬∑ Software de gesti√≥n hotelera y auto check‚Äëin">
  <meta property="og:description" content="Software completo para hoteles y alojamientos: gesti√≥n de reservas, check-in online autom√°tico, panel de administraci√≥n y m√°s. Planes desde 14,99‚Ç¨/mes.">
  <meta property="og:image" content="https://delfincheckin.com/og-image.svg">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:image:alt" content="Delf√≠n Check-in - Software de gesti√≥n hotelera">
  <meta property="og:url" content="https://delfincheckin.com/">
  <meta property="og:site_name" content="Delf√≠n Check-in">
  <meta property="og:locale" content="es_ES">
  <meta property="article:author" content="Delf√≠n Check-in">
  <meta property="article:publisher" content="https://delfincheckin.com/">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@delfincheckin">
  <meta name="twitter:creator" content="@delfincheckin">
  <meta name="twitter:title" content="Delf√≠n Check‚Äëin ¬∑ Software de gesti√≥n hotelera y auto check‚Äëin">
  <meta name="twitter:description" content="Software completo para hoteles: gesti√≥n de reservas, check-in online autom√°tico, panel de administraci√≥n. Planes desde 14,99‚Ç¨/mes.">
  <meta name="twitter:image" content="https://delfincheckin.com/og-image.svg">
  <meta name="twitter:image:alt" content="Delf√≠n Check-in - Software de gesti√≥n hotelera">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  
  <!-- Preload critical resources -->
  <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" as="style">
  <link rel="preload" href="https://fonts.gstatic.com/s/inter/v18/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuLyfAZ9hiJ-Ek-_EeA.woff2" as="font" type="font/woff2" crossorigin>
  
  <!-- DNS prefetch for external resources -->
  <link rel="dns-prefetch" href="//fonts.googleapis.com">
  <link rel="dns-prefetch" href="//fonts.gstatic.com">
  
  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üê¨</text></svg>">
  <link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üê¨</text></svg>">

  <!-- Schema.org Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@graph": [
      {
        "@type": "Organization",
        "@id": "https://delfincheckin.com/#organization",
        "name": "Delf√≠n Check-in",
        "url": "https://delfincheckin.com/",
        "logo": {
          "@type": "ImageObject",
          "url": "https://delfincheckin.com/og-image.svg",
          "width": 1200,
          "height": 630
        },
        "description": "Software de gesti√≥n hotelera y auto check-in para hoteles y alojamientos",
        "foundingDate": "2024",
        "contactPoint": {
          "@type": "ContactPoint",
          "contactType": "customer service",
          "email": "info@delfincheckin.com"
        },
        "sameAs": [
          "https://twitter.com/delfincheckin"
        ]
      },
      {
        "@type": "SoftwareApplication",
        "@id": "https://delfincheckin.com/#software",
        "name": "Delf√≠n Check-in",
        "applicationCategory": "BusinessApplication",
        "operatingSystem": "Web Browser",
        "description": "Software completo para gesti√≥n hotelera: reservas, check-in online autom√°tico, panel de administraci√≥n y gesti√≥n de habitaciones",
        "url": "https://delfincheckin.com/",
        "screenshot": "https://delfincheckin.com/og-image.svg",
        "offers": [
          {
            "@type": "Offer",
            "name": "Plan Mensual",
            "description": "Plan mensual desde 14,99‚Ç¨ por propiedad",
            "price": "14.99",
            "priceCurrency": "EUR",
            "priceSpecification": {
              "@type": "UnitPriceSpecification",
              "price": "14.99",
              "priceCurrency": "EUR",
              "unitText": "por propiedad por mes"
            }
          },
          {
            "@type": "Offer",
            "name": "Plan Anual",
            "description": "Plan anual con descuento del 16.7%",
            "price": "149.90",
            "priceCurrency": "EUR",
            "priceSpecification": {
              "@type": "UnitPriceSpecification",
              "price": "149.90",
              "priceCurrency": "EUR",
              "unitText": "por propiedad por a√±o"
            }
          }
        ],
        "publisher": {
          "@id": "https://delfincheckin.com/#organization"
        },
        "featureList": [
          "Gesti√≥n de reservas",
          "Check-in online autom√°tico",
          "Panel de administraci√≥n",
          "Gesti√≥n de habitaciones",
          "Registro de viajeros",
          "Integraci√≥n con calendarios",
          "Soporte t√©cnico"
        ]
      },
      {
        "@type": "WebSite",
        "@id": "https://delfincheckin.com/#website",
        "url": "https://delfincheckin.com/",
        "name": "Delf√≠n Check-in",
        "description": "Software de gesti√≥n hotelera y auto check-in",
        "publisher": {
          "@id": "https://delfincheckin.com/#organization"
        },
        "potentialAction": {
          "@type": "SearchAction",
          "target": "https://delfincheckin.com/?s={search_term_string}",
          "query-input": "required name=search_term_string"
        }
      },
      {
        "@type": "WebPage",
        "@id": "https://delfincheckin.com/#webpage",
        "url": "https://delfincheckin.com/",
        "name": "Delf√≠n Check-in ¬∑ Software de gesti√≥n hotelera y auto check-in",
        "isPartOf": {
          "@id": "https://delfincheckin.com/#website"
        },
        "about": {
          "@id": "https://delfincheckin.com/#software"
        },
        "description": "Software completo para hoteles y alojamientos: gesti√≥n de reservas, check-in online autom√°tico, panel de administraci√≥n y m√°s. Planes desde 14,99‚Ç¨/mes.",
        "breadcrumb": {
          "@type": "BreadcrumbList",
          "itemListElement": [
            {
              "@type": "ListItem",
              "position": 1,
              "name": "Inicio",
              "item": "https://delfincheckin.com/"
            }
          ]
        }
      }
    ]
  }
  </script>

  <style>
    :root{
      --bg: #0b1220;
      --card: #0f1629;
      --text: #e5ecff;
      --muted: #9fb0d1;
      --brand: #44c0ff;
      --accent: #7cf07c;
      --danger: #ff6b6b;
      --ring: rgba(68,192,255,0.35);
      --maxw: 1180px;
      --radius: 14px;
      --shadow: 0 10px 30px rgba(0,0,0,.35);
    }
    *{ box-sizing: border-box }
    html,body{ height:100% }
    body{
      margin:0; font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; color:var(--text); background: radial-gradient(1200px 800px at 70% -10%, rgba(68,192,255,.15), transparent), linear-gradient(180deg, #0b1220 0%, #0a1020 100%);
    }
    a{ color: var(--brand); text-decoration: none }
    .container{ max-width: var(--maxw); margin:0 auto; padding: 0 20px }

    /* Header */
    header{
      position: sticky; top:0; z-index:100; backdrop-filter: saturate(160%) blur(8px);
      background: rgba(11,18,32,.6); border-bottom: 1px solid rgba(255,255,255,.06);
    }
    .nav{ display:flex; align-items:center; justify-content:space-between; gap:16px; padding:16px 0 }
    .brand{ display:flex; gap:12px; align-items:center }
    .logo{ font-size:32px; line-height:1; display:grid; place-items:center }
    .brand b{ font-weight:800; letter-spacing:.2px; font-size:22px }
    .actions{ display:flex; gap:10px; align-items:center }
    .btn{ display:inline-flex; align-items:center; justify-content:center; gap:8px; height:40px; padding:0 14px; border-radius:10px; border:1px solid rgba(255,255,255,.12); color:var(--text); background: rgba(255,255,255,.03) }
    .btn:hover{ border-color: rgba(255,255,255,.22); background: rgba(255,255,255,.06) }
    .btn.primary{ background: linear-gradient(135deg, var(--brand), #2bb3ff); border: none; color: #0a1020; font-weight:700; box-shadow: 0 6px 20px var(--ring) }
    .btn.primary:hover{ filter: brightness(1.05) }
    .btn.primary{ cursor: pointer !important; pointer-events: auto !important; }

    /* Hero */
    .hero{ padding: 56px 0 28px }
    .hero h1{ font-size: clamp(32px, 6vw, 52px); line-height: 1.05; margin: 0 0 14px }
    .hero p{ color: var(--muted); margin: 0 0 20px; font-size: clamp(16px, 2.2vw, 18px) }
    .badges{ display:flex; gap:10px; flex-wrap:wrap; margin-bottom:14px }
    .badge{ font-size:12px; color:#0a1020; background:#b5f1ff; padding:6px 10px; border-radius:999px; font-weight:700 }
    .hero-card{ background: var(--card); border:1px solid rgba(255,255,255,.06); border-radius: var(--radius); padding: 18px; box-shadow: var(--shadow) }
    .checklist{ display:grid; grid-template-columns: repeat(2, minmax(200px, 1fr)); gap:12px; margin-top:8px }
    .check{ display:flex; gap:10px; align-items:flex-start; color: var(--muted) }
    .check strong{ min-width: 200px; display: inline-block; }
    .check i{ color:#93fba3 }

    /* Social proof */
    .logos{ opacity:.95; display:flex; gap:22px; flex-wrap:wrap; align-items:flex-start; justify-content:center; padding: 18px 0 }
    .logos .logo-txt{ font-weight:800; color:#0f172a; letter-spacing:.2px }
    .brand-box{ display:flex; flex-direction:column; align-items:center; gap:8px }
    .brand-box .brand-name{ font-weight:800; color:#0f172a }
    .brand-box img{ height:40px; filter:none; opacity:1 }

    /* Pricing */
    .section{ padding: 32px 0 }
    .section h2{ font-size: clamp(26px, 4vw, 36px); margin:0 0 14px }
    .section p.lead{ color:var(--muted); margin:0 0 20px }
    .pricing{ display:grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap:16px }
    .card{ background: var(--card); border:1px solid rgba(255,255,255,.06); border-radius: var(--radius); padding:16px; box-shadow: var(--shadow) }
    .card h3{ margin:0 0 6px }
    .price{ display:flex; align-items:baseline; gap:8px; margin: 10px 0 14px }
    .price strong{ font-size:34px }
    .price small{ color:var(--muted) }
    .features{ display:grid; gap:8px; color: var(--muted); margin: 10px 0 16px }
    .cta{ display:flex; gap:10px; flex-wrap:wrap }
    .note{ color:var(--muted); font-size:13px }

    /* KPIs dashboard */
    .kpis{ display:grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap:18px; margin: 8px 0 18px }
    .kpi{ background: #ffffff; border:1px solid #e2e8f0; border-radius:14px; padding:16px; display:flex; align-items:center; gap:14px; box-shadow: 0 2px 8px rgba(0,0,0,0.1) }
    .kpi .ic{ width:42px; height:42px; display:grid; place-items:center; border-radius:12px; font-size:20px }
    .kpi .meta{ color:#64748b; font-weight:600 }
    .kpi .value{ font-size:24px; font-weight:800; color:#0f172a }

    /* FAQ */
    details{ background: var(--card); border:1px solid rgba(255,255,255,.06); border-radius:12px; padding:12px 16px }
    details+details{ margin-top:10px }
    summary{ cursor:pointer; font-weight:600 }
    summary::-webkit-details-marker{ display:none }

    /* Footer */
    footer{ color:var(--muted); border-top:1px solid rgba(255,255,255,.06); margin-top:32px; padding:14px 0 26px }

    /* Animaciones */
    .btn, .card, .kpi{ transition: all 0.3s ease; }
    .btn:hover{ transform: translateY(-2px); box-shadow: 0 8px 25px rgba(0,0,0,.15); }
    .card:hover{ transform: translateY(-4px); box-shadow: 0 12px 40px rgba(0,0,0,.2); }
    .kpi:hover{ transform: translateY(-2px); }
    
    /* Loading spinner */
    .loading{ display: inline-block; width: 20px; height: 20px; border: 2px solid #f3f3f3; border-top: 2px solid #2563eb; border-radius: 50%; animation: spin 1s linear infinite; }
    @keyframes spin{ 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    
    /* Testimonios */
    .testimonials{ display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin: 20px 0; }
    .testimonial{ background: var(--card); border: 1px solid var(--border); border-radius: 12px; padding: 20px; position: relative; }
    .testimonial::before{ content: '"'; font-size: 48px; color: #2563eb; position: absolute; top: 10px; left: 15px; opacity: 0.3; }
    .testimonial-text{ margin: 20px 0 15px; font-style: italic; }
    .testimonial-author{ font-weight: 600; color: #2563eb; }
    .testimonial-role{ color: var(--muted); font-size: 14px; }

    /* Cookies Banner */
    .cookies-banner{ position: fixed; bottom: 0; left: 0; right: 0; background: var(--card); border-top: 1px solid var(--border); padding: 16px 20px; z-index: 1000; transform: translateY(100%); transition: transform 0.3s ease; }
    .cookies-banner.show{ transform: translateY(0); }
    .cookies-content{ display: flex; align-items: center; justify-content: space-between; gap: 16px; max-width: var(--maxw); margin: 0 auto; }
    .cookies-text{ flex: 1; font-size: 14px; color: var(--muted); }
    .cookies-actions{ display: flex; gap: 10px; align-items: center; }
    .cookies-actions .btn{ height: 36px; padding: 0 12px; font-size: 13px; }

    /* ===== RESPONSIVE DESIGN COMPLETO ===== */
    @media (max-width: 768px) {
      /* M√°rgenes laterales para m√≥viles */
      .container {
        padding: 0 16px !important;
      }
      
      .section {
        padding: 32px 0;
      }
      
      .card {
        margin: 0 4px 20px 4px;
      }
      
      /* Header m√≥vil */
      .nav {
        flex-direction: column;
        gap: 16px;
        padding: 24px 0 20px 0;
      }
      
      header {
        padding-top: 16px;
      }
      
      .nav .actions {
        flex-direction: column;
        width: 100%;
        gap: 8px;
      }
      
      .nav .actions .btn {
        width: 100%;
        text-align: center;
      }
      
      /* Hero section m√≥vil */
      .hero {
        padding: 40px 16px;
        text-align: center;
      }
      
      .hero h1 {
        font-size: 28px;
        line-height: 1.2;
        margin-bottom: 16px;
      }
      
      .hero .lead {
        font-size: 16px;
        margin-bottom: 24px;
      }
      
      /* Cards responsive */
      .card {
        margin-bottom: 20px;
        padding: 20px;
      }
      
      /* Grid responsive */
      .checklist {
        grid-template-columns: 1fr;
        gap: 16px;
      }
      
      .features-grid {
        grid-template-columns: 1fr !important;
        gap: 16px !important;
      }
      
      /* Tabla responsive */
      .table-container {
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
      }
      
      .table-container table {
        min-width: 600px;
        font-size: 14px;
      }
      
      .table-container th,
      .table-container td {
        padding: 8px 6px;
        white-space: nowrap;
      }
      
      /* Botones de acci√≥n en tabla */
      .table-container .btn {
        padding: 4px 8px;
        font-size: 11px;
        margin: 2px;
      }
      
      /* Calculadora m√≥vil */
      .calculator-grid {
        grid-template-columns: 1fr !important;
        gap: 16px !important;
      }
      
      .calculator-input {
        height: 44px !important;
        font-size: 16px !important;
      }
      
      /* Modales m√≥viles */
      .modal-content {
        width: 95vw !important;
        max-width: none !important;
        margin: 20px auto !important;
        max-height: 90vh !important;
      }
      
      /* Elementos espec√≠ficos con m√°rgenes */
      .hero {
        padding: 40px 16px;
      }
      
      .kpis {
        margin: 0 8px 18px 8px;
      }
      
      .testimonials {
        margin: 20px 8px;
      }
      
      .pricing {
        margin: 0 8px;
      }
      
      /* Formularios m√≥viles */
      .form-grid {
        grid-template-columns: 1fr !important;
        gap: 16px !important;
      }
      
      /* Footer m√≥vil */
      .footer-content {
        flex-direction: column;
        text-align: center;
        gap: 20px;
      }
      
      /* Pricing cards m√≥vil */
      .pricing {
        grid-template-columns: 1fr;
        gap: 20px;
      }
      
      .pricing .card {
        margin-bottom: 16px;
      }
      
      /* Elementos espec√≠ficos con m√°rgenes en m√≥viles peque√±os */
      .hero {
        padding: 30px 12px;
      }
      
      .kpis {
        margin: 0 4px 16px 4px;
      }
      
      .testimonials {
        margin: 16px 4px;
      }
      
      .pricing {
        margin: 0 4px;
      }
      
    }
    
    @media (max-width: 480px) {
      /* M√≥viles peque√±os - m√°rgenes m√°s amplios */
      .container {
        padding: 0 12px !important;
      }
      
      .card {
        margin: 0 2px 16px 2px;
      }
      
      /* Header m√≥viles peque√±os - m√°s separaci√≥n del techo */
      .nav {
        padding: 28px 0 24px 0;
      }
      
      header {
        padding-top: 20px;
      }
      
      .hero h1 {
        font-size: 24px;
      }
      
      .hero .lead {
        font-size: 14px;
      }
      
      .card {
        padding: 16px;
        margin-bottom: 16px;
      }
      
      .btn {
        padding: 12px 16px;
        font-size: 14px;
      }
      
      /* Tabla ultra compacta */
      .table-container table {
        min-width: 500px;
        font-size: 12px;
      }
      
      .table-container th,
      .table-container td {
        padding: 6px 4px;
      }
      
      /* Botones de tabla m√°s peque√±os */
      .table-container .btn {
        padding: 3px 6px;
        font-size: 10px;
        min-width: 60px;
      }
      
      /* Modales m√°s peque√±os */
      .modal-content {
        width: 98vw !important;
        margin: 10px auto !important;
        padding: 16px !important;
      }
      
      /* Calculadora compacta */
      .calculator-results {
        padding: 20px !important;
      }
      
      .calculator-results h3 {
        font-size: 18px !important;
      }
      
      .calculator-results .price {
        font-size: 24px !important;
      }
    }
    
    /* Mejoras generales para touch */
    @media (hover: none) and (pointer: coarse) {
      .btn {
        min-height: 44px;
        padding: 12px 20px;
      }
      
      .btn:hover {
        transform: none;
      }
      
      .btn:active {
        transform: scale(0.98);
      }
      
      /* Inputs m√°s grandes para touch */
      input, select, textarea {
        min-height: 44px;
        font-size: 16px;
      }
    }
    
    /* ===== ARREGLOS ESPEC√çFICOS ===== */
    
    /* Vista previa del dashboard - arreglar scroll horizontal */
    #dashboard .table-container {
      max-width: 100%;
      overflow-x: auto;
      margin: 0 auto;
    }
    
      #dashboard .kpis {
        max-width: 100%;
        overflow-x: auto;
      }
    
    /* Modales centrados correctamente */
    .modal {
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }
    
    .modal-content {
      position: relative;
      left: auto;
      top: auto;
      transform: none;
      margin: 0;
      max-width: 90vw;
      max-height: 90vh;
      overflow-y: auto;
    }
    
    /* Datos centralizados - arreglar texto que se sale */
    #datos .checklist {
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)) !important;
      gap: 16px !important;
    }
    
    #datos .check {
      text-align: center;
      white-space: nowrap;
    }
    
    /* Calculadora - arreglar incremento doble */
    .calculator-input {
      user-select: none;
    }
    
    /* ===== MEJORAS PARA M√ìVILES ===== */
    
    /* Botones t√°ctiles m√°s grandes en m√≥viles */
    @media (max-width: 768px) {
      #incrementBtn, #decrementBtn {
        min-width: 44px !important;
        min-height: 44px !important;
        font-size: 16px !important;
        touch-action: manipulation;
      }
      
      /* Efectos t√°ctiles mejorados */
      #incrementBtn:active, #decrementBtn:active {
        transform: scale(0.9) !important;
        background: #1d4ed8 !important;
      }
    }
    
    /* Prevenir selecci√≥n de texto en botones t√°ctiles */
    #incrementBtn, #decrementBtn {
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
      -webkit-touch-callout: none;
      -webkit-tap-highlight-color: transparent;
    }
  </style>
  <!-- Tema claro: sobreescritura para apariencia similar a public/guest-registration.html -->
  <style>
    :root{
      --bg: #eef6ff; /* azul pastel muy tenue para el fondo */
      --card: #ffffff;
      --text: #0f172a;
      --muted: #475569;
      --brand: #2563eb;
      --accent: #16a34a;
      --danger: #ef4444;
      --ring: rgba(37,99,235,.18);
      --border: rgba(15,23,42,.08);
    }
    
    /* Navegaci√≥n suave */
    html { 
      scroll-behavior: smooth; 
      scroll-padding-top: 80px; /* Espacio para el header fijo */
    }
    
    /* Estado activo para enlaces de navegaci√≥n */
    .nav a.active {
      background: var(--brand) !important;
      color: white !important;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3);
    }
    
    /* Efecto hover mejorado para botones de navegaci√≥n */
    .nav a:hover {
      transform: translateY(-1px);
      box-shadow: 0 2px 8px rgba(37, 99, 235, 0.2);
      transition: all 0.2s ease;
    }
    body{ background: var(--bg); color: var(--text); }
    header{ background:#ffffff; border-bottom:1px solid var(--border); backdrop-filter: none; }
    .nav{ padding: 16px 0; }
    
    /* KPIs con fondo blanco como las dem√°s tarjetas */
    .kpi{ 
      background: #ffffff !important; 
      border: 1px solid #e2e8f0 !important; 
      border-radius: 14px; 
      padding: 16px; 
      display: flex; 
      align-items: center; 
      gap: 14px; 
      box-shadow: 0 2px 8px rgba(0,0,0,0.1) !important;
    }
    .logo{ background: transparent; }
    .btn{ height: 42px; padding: 0 16px; border:1px solid rgba(15,23,42,.12); background:#ffffff; color:#0f172a }
    .btn:hover{ background:#f8fafc; border-color: rgba(15,23,42,.18) }
    .btn.primary{ background: #2563eb; color:#ffffff; border-color:#2563eb; box-shadow: 0 6px 18px var(--ring) }
    .hero{ padding: 48px 0 20px }
    .hero-card, .card, details{ background:#ffffff; border:1px solid var(--border); }
    .badge{ background:#e2e8f0; color:#0f172a }
    .section{ padding: 28px 0 }
    .note{ color:#64748b }
    table thead th{ background:#f8fafc }
    table td, table th{ border-color: var(--border) }
    footer{ background:#ffffff; border-top:1px solid var(--border) }
    /* Logos en texto, legibles y en negrita */
    .logos .logo-txt{ font-weight:800; font-family: system-ui, Inter, Segoe UI, Roboto, Arial, sans-serif }
    /* Registro de viajeros: campos en claro */
    #form-registro label span{ color:#0f172a; font-weight:600 }
    #form-registro input, #form-registro select, #form-registro textarea{
      background:#ffffff !important;
      color:#0f172a !important;
      border:1px solid rgba(15,23,42,.2) !important;
      border-radius:10px;
      height:40px;
      padding:0 12px;
    }
    #form-registro input::placeholder, #form-registro textarea::placeholder{ color:#64748b }
    #form-registro .btn{ border-color: rgba(15,23,42,.12); background:#ffffff; color:#0f172a }
    #form-registro .btn:hover{ background:#f8fafc }
  </style>
</head>
<body>
  <header>
    <div class="container nav">
      <div class="brand">
        <div class="logo" aria-hidden="true">üê¨</div>
        <b>Delf√≠n Check‚Äëin</b>
      </div>
      <div class="actions">
        <a class="btn primary" href="#precio">Precios</a>
        <a class="btn" href="#caracteristicas">Funciones</a>
      </div>
    </div>
  </header>

  <main>
    <section class="hero container" id="inicio">
      <div class="badges">
        <span class="badge">Check‚Äëin online</span>
        <span class="badge">Gesti√≥n de reservas</span>
        <span class="badge">Panel sencillo</span>
      </div>
      <h1>Gestiona tu alojamiento sin complicarte, con reservas, habitaciones y check‚Äëin online</h1>
      <p>Centraliza la operativa diaria: recopila documentaci√≥n antes de la llegada y reduce el tiempo en recepci√≥n. Ideal para hoteles, hostales y apartamentos tur√≠sticos.</p>
      <div class="hero-card">
        <div class="checklist">
          <div class="check"><i>‚úî</i> Check‚Äëin online con verificaci√≥n de datos.</div>
          <div class="check"><i>‚úî</i> Gesti√≥n de habitaciones, tarifas y disponibilidad.</div>
          <div class="check"><i>‚úî</i> Informes y exportaci√≥n.</div>
          <div class="check"><i>‚úî</i> Dashboard de reservas.</div>
        </div>
      </div>
      <div class="logos">
        <div class="brand-box">
          <div class="brand-name">Booking</div>
          <img alt="Logo Booking" src="https://upload.wikimedia.org/wikipedia/commons/b/be/Booking.com_logo.svg">
        </div>
        <div class="brand-box">
          <div class="brand-name">Airbnb</div>
          <img alt="Logo Airbnb" src="https://upload.wikimedia.org/wikipedia/commons/6/69/Airbnb_Logo_B√©lo.svg">
        </div>
        <div class="brand-box">
          <div class="brand-name">Expedia</div>
          <img alt="Logo Expedia" src="https://upload.wikimedia.org/wikipedia/commons/3/3b/Expedia_Logo_2023.svg">
        </div>
        <div class="brand-box">
          <div class="brand-name">Vrbo</div>
          <img alt="Logo Vrbo" src="https://upload.wikimedia.org/wikipedia/commons/5/51/Vrbo.svg">
        </div>
      </div>
      
      <!-- Badges de confianza -->
      <div style="display: flex; justify-content: center; align-items: center; gap: 24px; margin-top: 20px; flex-wrap: wrap;">
        <div style="display: flex; align-items: center; gap: 8px; padding: 8px 16px; background: #f0f9ff; border: 1px solid #bae6fd; border-radius: 20px; font-size: 14px; font-weight: 600; color: #2563eb;">
          <span>üîí</span>
          <span>SSL Seguro</span>
        </div>
        <div style="display: flex; align-items: center; gap: 8px; padding: 8px 16px; background: #f0fdf4; border: 1px solid #bbf7d0; border-radius: 20px; font-size: 14px; font-weight: 600; color: #16a34a;">
          <span>üõ°Ô∏è</span>
          <span>RGPD Compliant</span>
        </div>
        <div style="display: flex; align-items: center; gap: 8px; padding: 8px 16px; background: #fef3c7; border: 1px solid #fde68a; border-radius: 20px; font-size: 14px; font-weight: 600; color: #d97706;">
          <span>‚≠ê</span>
          <span>4.8/5 Valoraci√≥n</span>
        </div>
        <div style="display: flex; align-items: center; gap: 8px; padding: 8px 16px; background: #f3e8ff; border: 1px solid #c4b5fd; border-radius: 20px; font-size: 14px; font-weight: 600; color: #7c3aed;">
          <span>üöÄ</span>
          <span>99.9% Uptime</span>
        </div>
      </div>
    </section>

    <!-- Microsite y pagos directos -->
    <section id="microsite" class="section container" aria-labelledby="microsite-title">
      <div style="background: linear-gradient(135deg, rgba(37,99,235,0.12) 0%, rgba(16,185,129,0.12) 100%); border: 2px solid rgba(37,99,235,0.18); border-radius: 24px; padding: clamp(24px, 4vw, 40px); margin: 20px 0; display: grid; gap: 28px; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); align-items: center;">
        <div>
          <h2 id="microsite-title" style="margin: 0 0 16px; font-size: clamp(28px, 4vw, 40px); color: #1d4ed8;">Microsite propio para reservas directas</h2>
          <p style="margin: 0 0 20px; font-size: 17px; line-height: 1.6; color: #475569; max-width: 560px;">
            Crea en minutos una p√°gina p√∫blica para tu alojamiento, comparte el enlace en redes o con tus hu√©spedes y recibe reservas directas sin depender de Booking o Airbnb. 
            Con nuestro sistema de <strong style="color:#0f172a;">pago directo</strong> las comisiones se reducen a la mitad y el dinero entra en tu cuenta bancaria sin esperas.
          </p>

          <div style="display: grid; gap: 14px;">
            <div style="display:flex; gap:10px; align-items:flex-start;">
              <span style="font-size:18px;">‚ú®</span>
              <div>
                <strong style="color:#0f172a;">Microsite con tu marca</strong>
                <p style="margin:4px 0 0; color:#64748b;">Personaliza portada, fotos, descripci√≥n y condiciones para compartir tu alojamiento con un enlace √∫nico.</p>
              </div>
            </div>
            <div style="display:flex; gap:10px; align-items:flex-start;">
              <span style="font-size:18px;">üí≥</span>
              <div>
                <strong style="color:#0f172a;">Pagos directos con comisiones m√≠nimas</strong>
                <p style="margin:4px 0 0; color:#64748b;">Integra el cobro seguro con Stripe y ahorra hasta un 50% de comisiones frente a las OTAs tradicionales.</p>
              </div>
            </div>
            <div style="display:flex; gap:10px; align-items:flex-start;">
              <span style="font-size:18px;">üîó</span>
              <div>
                <strong style="color:#0f172a;">Enlaces de cobro a medida</strong>
                <p style="margin:4px 0 0; color:#64748b;">Define fechas, importe acordado y env√≠a el enlace al hu√©sped para que complete el pago desde cualquier dispositivo.</p>
              </div>
            </div>
          </div>

          <div style="display:flex; flex-wrap:wrap; gap:12px; margin-top:24px;">
            <a href="#precio" class="btn primary" style="text-decoration:none;">Quiero mi microsite</a>
            <a href="#caracteristicas" class="btn" style="text-decoration:none;">Ver m√°s funciones</a>
          </div>
        </div>

        <div style="background:#ffffff; border-radius:18px; border:1px solid rgba(37,99,235,0.18); padding:24px; box-shadow: 0 18px 40px rgba(37,99,235,0.12);">
          <div style="display:flex; align-items:center; justify-content:space-between; margin-bottom:18px;">
            <div>
              <p style="margin:0; font-size:14px; color:#64748b;">Microsite ¬∑ Vista previa</p>
              <h3 style="margin:4px 0 0; font-size:20px; color:#0f172a;">delfincheckin.com/tucasa</h3>
            </div>
            <span style="font-size:26px;">üè°</span>
          </div>
          <div style="border-radius:12px; overflow:hidden; border:1px solid rgba(15,23,42,0.08);">
            <div style="background:linear-gradient(135deg, #2563eb, #1d4ed8); color:white; padding:18px;">
              <h4 style="margin:0 0 6px; font-size:18px;">Apartamento Centro M√°laga</h4>
              <p style="margin:0; font-size:14px; opacity:0.9;">3 hu√©spedes ¬∑ 2 noches ¬∑ 280 ‚Ç¨</p>
            </div>
            <div style="padding:18px; background:white; color:#0f172a; display:grid; gap:12px;">
              <div style="display:flex; align-items:center; gap:8px;">
                <span style="color:#2563eb;">üìÜ</span>
                <span style="font-size:14px; color:#475569;">Check‚Äëin 12 mayo ¬∑ Check‚Äëout 14 mayo</span>
              </div>
              <div style="display:flex; align-items:center; gap:8px;">
                <span style="color:#2563eb;">üîí</span>
                <span style="font-size:14px; color:#475569;">Pago seguro con tarjeta ¬∑ Confirmaci√≥n instant√°nea</span>
              </div>
              <button style="margin-top:6px; background:linear-gradient(135deg, #16a34a, #22c55e); color:white; border:none; border-radius:10px; padding:12px; font-weight:700; cursor:pointer;">Reservar y pagar ahora</button>
            </div>
          </div>
          <p style="margin:18px 0 0; color:#64748b; font-size:13px;">
            Env√≠a este microsite a tu hu√©sped, recibe la reserva y el pago directo sin dependencias externas.
          </p>
        </div>
      </div>
    </section>

    <!-- Enlaces de pagos directos -->
    <section id="enlaces-pagos" class="section container" aria-labelledby="links-title">
      <div style="background: #ffffff; border: 1px solid rgba(15,23,42,0.08); border-radius: 24px; padding: clamp(24px, 4vw, 40px); box-shadow: 0 15px 40px rgba(15,23,42,0.08); display: grid; gap: 24px;">
        <div style="display: flex; flex-direction: column; gap: 12px; align-items: flex-start;">
          <span style="background: rgba(37,99,235,0.1); color: #1d4ed8; font-weight: 700; font-size: 14px; padding: 6px 14px; border-radius: 999px;">Pagos directos</span>
          <h2 id="links-title" style="margin: 0; font-size: clamp(26px, 4vw, 36px); color: #0f172a;">Crea enlaces de cobro personalizados en segundos</h2>
          <p style="margin: 0; font-size: 18px; color: #475569; max-width: 720px; line-height: 1.6;">
            Define las fechas de estancia, introduce el importe que has acordado con tu hu√©sped y genera un enlace √∫nico de pago. Lo compartes por WhatsApp o email y el hu√©sped paga de forma segura. El dinero aterriza en tu cuenta bancaria sin esperar a liquidaciones de Booking o Airbnb.
          </p>
        </div>

        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 20px;">
          <div style="background: linear-gradient(135deg, rgba(37,99,235,0.06), rgba(37,99,235,0.12)); border-radius: 16px; padding: 20px; border: 1px solid rgba(37,99,235,0.15);">
            <div style="font-size: 32px; margin-bottom: 12px;">üóìÔ∏è</div>
            <h3 style="margin: 0 0 8px; color: #1d4ed8; font-size: 18px;">Configura la reserva</h3>
            <p style="margin: 0; color: #475569; line-height: 1.6;">Selecciona fechas de check‚Äëin y check‚Äëout, n√∫mero de noches y cualquier comentario para el hu√©sped.</p>
          </div>

          <div style="background: linear-gradient(135deg, rgba(16,185,129,0.06), rgba(16,185,129,0.12)); border-radius: 16px; padding: 20px; border: 1px solid rgba(16,185,129,0.15);">
            <div style="font-size: 32px; margin-bottom: 12px;">üí∂</div>
            <h3 style="margin: 0 0 8px; color: #047857; font-size: 18px;">Elige el importe</h3>
            <p style="margin: 0; color: #475569; line-height: 1.6;">Introduce la cantidad exacta que hab√©is acordado (reserva completa o se√±al) y genera el enlace en un clic.</p>
          </div>

          <div style="background: linear-gradient(135deg, rgba(244,114,182,0.08), rgba(67,56,202,0.08)); border-radius: 16px; padding: 20px; border: 1px solid rgba(124,58,237,0.15);">
            <div style="font-size: 32px; margin-bottom: 12px;">üì≤</div>
            <h3 style="margin: 0 0 8px; color: #6d28d9; font-size: 18px;">Comparte y cobra</h3>
            <p style="margin: 0; color: #475569; line-height: 1.6;">Env√≠a el enlace por WhatsApp, SMS o email. El hu√©sped paga con tarjeta y recibes el dinero directamente en tu cuenta bancaria.</p>
          </div>
        </div>

        <div style="display: grid; gap: 14px; padding: 18px; border-radius: 16px; border: 1px dashed rgba(15,23,42,0.12); background: rgba(15,23,42,0.02);">
          <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 12px;">
            <div style="display: flex; align-items: center; gap: 12px;">
              <span style="width: 42px; height: 42px; border-radius: 12px; display: grid; place-items: center; background: rgba(37,99,235,0.12); color: #1d4ed8; font-size: 20px;">üîó</span>
              <div>
                <p style="margin: 0; font-size: 16px; color: #0f172a; font-weight: 600;">Ejemplo de enlace generado</p>
                <p style="margin: 2px 0 0; font-size: 14px; color: #64748b;">https://delfincheckin.com/pay/apt-malaga-12may-14may</p>
              </div>
            </div>
            <button onclick="navigator.clipboard.writeText('https://delfincheckin.com/pay/apt-malaga-12may-14may')" class="btn" style="border-radius: 999px;">Copiar</button>
          </div>
          <p style="margin: 0; font-size: 13px; color: #94a3b8;">Todos los pagos pasan por Stripe con SCA, recibes liquidaci√≥n diaria y controlas las devoluciones desde tu panel.</p>
        </div>
      </div>
    </section>

    <!-- Aplicaci√≥n m√≥vil para propietarios -->
    <section id="app-propietarios" class="section container" aria-labelledby="app-title">
      <div style="background: linear-gradient(135deg, rgba(124,58,237,0.08), rgba(14,116,144,0.08)); border-radius: 24px; padding: clamp(24px, 4vw, 40px); border: 1px solid rgba(15,23,42,0.08); box-shadow: 0 20px 45px rgba(79,70,229,0.12); display: grid; gap: 28px; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); align-items: center;">
        <div style="display:flex; flex-direction:column; gap:14px;">
          <span style="background: rgba(124,58,237,0.1); color: #5b21b6; font-weight: 700; font-size: 14px; padding: 6px 14px; border-radius: 999px; width: fit-content;">Aplicaci√≥n m√≥vil incluida</span>
          <h2 id="app-title" style="margin:0; font-size: clamp(28px, 4vw, 38px); color:#312e81;">Controla tu alojamiento desde el bolsillo</h2>
          <p style="margin:0; font-size:18px; color:#475569; line-height:1.6; max-width:640px;">
            Delf√≠n Check-in incluye acceso a la app para propietarios en <strong>App Store</strong> y <strong>Google Play</strong>. Recibe alertas de check-in, consulta reservas, marca habitaciones como listas y atiende incidencias sin abrir el port√°til.
          </p>

          <ul style="margin:0; padding:0; list-style:none; display:grid; gap:12px;">
            <li style="display:flex; gap:10px; align-items:flex-start; color:#475569;">
              <span style="font-size:18px; color:#7c3aed;">üì≤</span>
              <span>Notificaciones push inmediatas cuando se crea o modifica una reserva.</span>
            </li>
            <li style="display:flex; gap:10px; align-items:flex-start; color:#475569;">
              <span style="font-size:18px; color:#7c3aed;">üßæ</span>
              <span>Listado completo de hu√©spedes, check-ins y documentos desde el m√≥vil.</span>
            </li>
            <li style="display:flex; gap:10px; align-items:flex-start; color:#475569;">
              <span style="font-size:18px; color:#7c3aed;">üîê</span>
              <span>Acceso seguro con el mismo usuario y contrase√±a de tu panel web.</span>
            </li>
          </ul>

          <div style="display:flex; flex-wrap:wrap; gap:12px; margin-top:18px;">
            <a href="#precio" class="btn primary" style="text-decoration:none; display:inline-flex; align-items:center; gap:10px;">
              <span>üì•</span>
              <span>Disponible en iOS y Android</span>
            </a>
            <a href="#instrucciones" class="btn" style="text-decoration:none;">Ver c√≥mo funciona</a>
          </div>
        </div>

        <div style="position:relative; background:white; border-radius:20px; border:1px solid rgba(79,70,229,0.18); padding:24px; box-shadow: 0 24px 60px rgba(79,70,229,0.18);">
          <div style="position:absolute; inset:12px; border-radius:18px; background:linear-gradient(135deg, rgba(124,58,237,0.12), rgba(14,165,233,0.12)); filter:blur(20px);"></div>
          <div style="position:relative; z-index:1; display:grid; gap:16px;">
            <div style="display:flex; align-items:center; justify-content:space-between;">
              <div>
                <p style="margin:0; font-size:14px; color:#475569;">App Delf√≠n Check-in</p>
                <h3 style="margin:4px 0 0; font-size:20px; color:#312e81;">Panel del propietario</h3>
              </div>
              <span style="font-size:26px; color:#7c3aed;">üì±</span>
            </div>
            <div style="display:grid; gap:10px; background:#f8fafc; border-radius:14px; padding:18px; border:1px solid rgba(148,163,184,0.2);">
              <div style="display:flex; justify-content:space-between; align-items:center; font-weight:600; color:#1e293b;">
                <span>Check-in hoy</span>
                <span>17:30 ¬∑ Suite 203</span>
              </div>
              <div style="display:flex; justify-content:space-between; align-items:center; color:#475569; font-size:14px;">
                <span>üß≥ Huespedes</span>
                <span>3 adultos ¬∑ 2 noches</span>
              </div>
              <div style="display:flex; justify-content:space-between; align-items:center; color:#16a34a; font-weight:600;">
                <span>Estado</span>
                <span>‚úî Documentaci√≥n completada</span>
              </div>
            </div>
            <div style="display:grid; gap:8px;">
              <button style="padding:12px; border:none; border-radius:12px; background:linear-gradient(135deg, #7c3aed, #6366f1); color:white; font-weight:700; cursor:pointer;">Ver calendario</button>
              <button style="padding:12px; border:1px solid rgba(79,70,229,0.2); border-radius:12px; background:white; color:#4338ca; font-weight:600; cursor:pointer;">Enviar mensaje al hu√©sped</button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Vista previa tipo admin/dashboard -->
    <section id="dashboard" class="section container" aria-labelledby="dashboard-title">
      <h2 id="dashboard-title" data-es="Vista previa del Dashboard" data-en="Dashboard Preview">Vista previa del Dashboard</h2>
      <p class="lead" data-es="Una muestra simple de c√≥mo ver√≠as tus m√©tricas y operaciones diarias." data-en="A simple preview of how you would see your metrics and daily operations.">Una muestra simple de c√≥mo ver√≠as tus m√©tricas y operaciones diarias.</p>
      <div class="kpis">
        <div class="kpi">
          <div class="ic" style="background:#e0ecff">üè†</div>
          <div>
            <div class="meta" data-es="Habitaciones" data-en="Rooms">Habitaciones</div>
            <div class="value" id="kpi-rooms">‚Äî</div>
          </div>
        </div>
        <div class="kpi">
          <div class="ic" style="background:#dcfce7">üë•</div>
          <div>
            <div class="meta" data-es="Hu√©spedes Hoy" data-en="Guests Today">Hu√©spedes Hoy</div>
            <div class="value" id="kpi-guests">‚Äî</div>
          </div>
        </div>
        <div class="kpi">
          <div class="ic" style="background:#fef9c3">üìÖ</div>
          <div>
            <div class="meta" data-es="Reservas Activas" data-en="Active Reservations">Reservas Activas</div>
            <div class="value" id="kpi-active">‚Äî</div>
          </div>
        </div>
        <div class="kpi">
          <div class="ic" style="background:#f5e8ff">üìà</div>
          <div>
            <div class="meta" data-es="Ocupaci√≥n" data-en="Occupancy">Ocupaci√≥n</div>
            <div class="value" id="kpi-occ">‚Äî</div>
          </div>
        </div>
        <div class="kpi" style="grid-column: span 2">
          <div class="ic" style="background:#e5f4ff">üí∂</div>
          <div>
            <div class="meta" data-es="Facturaci√≥n" data-en="Revenue">Facturaci√≥n</div>
            <div class="value" id="kpi-revenue">‚Äî</div>
          </div>
        </div>
        <div class="kpi">
          <div class="ic" style="background:#ffe4e6">üí≥</div>
          <div>
            <div class="meta" data-es="Comisiones Pagadas" data-en="Commissions Paid">Comisiones Pagadas</div>
            <div class="value" id="kpi-fees">‚Äî</div>
          </div>
        </div>
        <div class="kpi">
          <div class="ic" style="background:#e0ecff">üìä</div>
          <div>
            <div class="meta" data-es="Ganancia Neta" data-en="Net Profit">Ganancia Neta</div>
            <div class="value" id="kpi-profit">‚Äî</div>
          </div>
        </div>
      </div>
      

      <div class="card" style="margin-top:16px">
        <h3 style="margin:0 0 8px" data-es="Gesti√≥n de reservas" data-en="Reservation Management">Gesti√≥n de reservas</h3>
        <div class="table-container">
          <table style="width:100%; border-collapse:collapse">
          <thead>
            <tr style="color:var(--muted); font-size:13px; text-align:left">
              <th style="padding:10px 8px; border-bottom:1px solid rgba(255,255,255,.08)" data-es="Habitaci√≥n" data-en="Room">Habitaci√≥n</th>
              <th style="padding:10px 8px; border-bottom:1px solid rgba(255,255,255,.08)" data-es="Hu√©sped" data-en="Guest">Hu√©sped</th>
              <th style="padding:10px 8px; border-bottom:1px solid rgba(255,255,255,.08)" data-es="Llegada" data-en="Arrival">Llegada</th>
              <th style="padding:10px 8px; border-bottom:1px solid rgba(255,255,255,.08)" data-es="Salida" data-en="Departure">Salida</th>
              <th style="padding:10px 8px; border-bottom:1px solid rgba(255,255,255,.08)" data-es="Estado" data-en="Status">Estado</th>
              <th style="padding:10px 8px; border-bottom:1px solid rgba(255,255,255,.08)" data-es="Pag√≥ hu√©sped" data-en="Guest paid">Pag√≥ hu√©sped</th>
              <th style="padding:10px 8px; border-bottom:1px solid rgba(255,255,255,.08)" data-es="Comisi√≥n" data-en="Commission">Comisi√≥n</th>
              <th style="padding:10px 8px; border-bottom:1px solid rgba(255,255,255,.08)" data-es="Tu ganancia" data-en="Your profit">Tu ganancia</th>
              <th style="padding:10px 8px; border-bottom:1px solid rgba(255,255,255,.08)" data-es="Canal" data-en="Channel">Canal</th>
              <th style="padding:10px 8px; border-bottom:1px solid rgba(255,255,255,.08)" data-es="Tel√©fono" data-en="Phone">Tel√©fono</th>
              <th style="padding:10px 8px; border-bottom:1px solid rgba(255,255,255,.08)" data-es="Email" data-en="Email">Email</th>
            </tr>
          </thead>
          <tbody id="res-tbody"></tbody>
        </table>
      </div>
    </section>

    <!-- Asistente IA en Telegram -->
    <section id="telegram-ai" class="section container">
      <div style="background: linear-gradient(135deg, rgba(68,192,255,0.1) 0%, rgba(124,240,124,0.1) 100%); border: 2px solid rgba(68,192,255,0.2); border-radius: 20px; padding: 40px; margin: 40px 0; position: relative; overflow: hidden;">
        <!-- Efecto de fondo -->
        <div style="position: absolute; top: -50px; right: -50px; width: 100px; height: 100px; background: radial-gradient(circle, rgba(68,192,255,0.1) 0%, transparent 70%); border-radius: 50%;"></div>
        <div style="position: absolute; bottom: -30px; left: -30px; width: 80px; height: 80px; background: radial-gradient(circle, rgba(124,240,124,0.1) 0%, transparent 70%); border-radius: 50%;"></div>
        
        <div style="display: flex; align-items: center; gap: 20px; margin-bottom: 20px;">
          <div style="background: linear-gradient(135deg, var(--brand), #2bb3ff); border-radius: 50%; width: 60px; height: 60px; display: flex; align-items: center; justify-content: center; font-size: 28px; box-shadow: 0 8px 25px rgba(68,192,255,0.3);">
            ü§ñ
          </div>
          <div>
            <h2 style="margin: 0; font-size: 32px; background: linear-gradient(135deg, var(--brand), var(--accent)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">
              Tu Asistente IA en Telegram
            </h2>
            <p style="margin: 5px 0 0; color: var(--muted); font-size: 16px;">
              La ventaja que te diferencia del resto de PMS
            </p>
          </div>
        </div>

        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px; align-items: center;">
          <div>
            <p style="font-size: 18px; line-height: 1.6; margin-bottom: 20px; color: var(--text);">
              <strong style="color: var(--brand);">Pregunta cualquier cosa sobre tu negocio</strong> y obt√©n respuestas instant√°neas desde Telegram. 
              Como si tuvieras un asistente personal 24/7 que conoce todos los datos de tu hotel.
            </p>
            
            <div style="background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.08); border-radius: 12px; padding: 20px; margin: 20px 0;">
              <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                <div style="background: var(--brand); color: #0a1020; border-radius: 50%; width: 30px; height: 30px; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 14px;">
                  üí¨
                </div>
                <strong style="color: var(--text);">Ejemplo de pregunta:</strong>
              </div>
              <p style="color: var(--muted); font-style: italic; margin: 0;">
                "¬øHa rellenado el registro de viajeros Adri√°n que viene hoy?"
              </p>
            </div>

            <div style="display: flex; flex-wrap: wrap; gap: 15px; margin-top: 20px;">
              <div style="background: rgba(68,192,255,0.1); border: 1px solid rgba(68,192,255,0.2); border-radius: 8px; padding: 10px 15px; font-size: 14px; color: var(--brand);">
                ‚úÖ Respuestas instant√°neas
              </div>
              <div style="background: rgba(124,240,124,0.1); border: 1px solid rgba(124,240,124,0.2); border-radius: 8px; padding: 10px 15px; font-size: 14px; color: var(--accent);">
                üîí Datos seguros
              </div>
              <div style="background: rgba(255,107,107,0.1); border: 1px solid rgba(255,107,107,0.2); border-radius: 8px; padding: 10px 15px; font-size: 14px; color: var(--danger);">
                üöÄ Solo en Delf√≠n Check-in
              </div>
            </div>
          </div>

          <div style="background: var(--card); border: 1px solid rgba(255,255,255,0.06); border-radius: 16px; padding: 25px; box-shadow: var(--shadow);">
            <h3 style="margin: 0 0 15px; color: var(--text); display: flex; align-items: center; gap: 10px;">
              <span style="background: linear-gradient(135deg, var(--brand), #2bb3ff); border-radius: 50%; width: 35px; height: 35px; display: flex; align-items: center; justify-content: center; font-size: 16px;">
                üìä
              </span>
              ¬øQu√© puedes preguntar?
            </h3>
            
            <div style="display: grid; gap: 12px;">
              <div style="display: flex; align-items: center; gap: 10px; padding: 10px; background: rgba(255,255,255,0.02); border-radius: 8px;">
                <div style="color: var(--brand);">üè†</div>
                <span style="color: var(--muted); font-size: 14px;">Estado de habitaciones y ocupaci√≥n</span>
              </div>
              <div style="display: flex; align-items: center; gap: 10px; padding: 10px; background: rgba(255,255,255,0.02); border-radius: 8px;">
                <div style="color: var(--brand);">üë•</div>
                <span style="color: var(--muted); font-size: 14px;">Informaci√≥n de hu√©spedes y reservas</span>
              </div>
              <div style="display: flex; align-items: center; gap: 10px; padding: 10px; background: rgba(255,255,255,0.02); border-radius: 8px;">
                <div style="color: var(--brand);">üìã</div>
                <span style="color: var(--muted); font-size: 14px;">Registros de viajeros (MIR)</span>
              </div>
              <div style="display: flex; align-items: center; gap: 10px; padding: 10px; background: rgba(255,255,255,0.02); border-radius: 8px;">
                <div style="color: var(--brand);">üí∞</div>
                <span style="color: var(--muted); font-size: 14px;">M√©tricas de facturaci√≥n</span>
              </div>
              <div style="display: flex; align-items: center; gap: 10px; padding: 10px; background: rgba(255,255,255,0.02); border-radius: 8px;">
                <div style="color: var(--brand);">üìÖ</div>
                <span style="color: var(--muted); font-size: 14px;">Pr√≥ximas llegadas y salidas</span>
              </div>
            </div>

            <div style="margin-top: 20px; padding: 15px; background: linear-gradient(135deg, rgba(68,192,255,0.05), rgba(124,240,124,0.05)); border-radius: 10px; border: 1px solid rgba(68,192,255,0.1);">
              <p style="margin: 0; font-size: 13px; color: var(--muted); text-align: center;">
                <strong style="color: var(--brand);">üí° Exclusivo:</strong> Ning√∫n otro PMS tiene esta funcionalidad de IA integrada
              </p>
            </div>
          </div>
        </div>

        <div style="text-align: center; margin-top: 30px;">
          <button onclick="openPaymentModal('monthly')" style="display: inline-flex; align-items: center; gap: 10px; background: linear-gradient(135deg, var(--brand), #2bb3ff); color: #0a1020; padding: 15px 30px; border-radius: 12px; font-weight: 700; text-decoration: none; box-shadow: 0 8px 25px rgba(68,192,255,0.3); transition: all 0.3s ease; border: none; cursor: pointer;">
            üöÄ Contratar ahora con IA incluida
            <span style="font-size: 16px;">‚Üí</span>
          </button>
        </div>
      </div>
    </section>

    <section id="caracteristicas" class="section container">
      <h2 data-es="Todo lo que necesitas para el d√≠a a d√≠a" data-en="Everything you need for daily operations">Todo lo que necesitas para el d√≠a a d√≠a</h2>
      <p class="lead" data-es="Simplifica tareas repetitivas y mejora la experiencia del hu√©sped. Crea reservas manualmente desde Delf√≠n Check-in o contrata el <strong>Plan Pro</strong> para sincronizarte con Booking, Airbnb, Expedia y otras OTAs." data-en="Simplify repetitive tasks and improve guest experience. Create reservations manually from Delf√≠n Check-in or upgrade to the <strong>Pro Plan</strong> to sync with Booking, Airbnb, Expedia and other OTAs.">Simplifica tareas repetitivas y mejora la experiencia del hu√©sped. Crea reservas manualmente desde Delf√≠n Check-in o contrata el <strong>Plan Pro</strong> para sincronizarte con Booking, Airbnb, Expedia y otras OTAs.</p>
      <div class="features-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin: 30px 0;">
        <style>
          .feature-card:hover {
            transform: translateY(-6px);
            box-shadow: 0 12px 35px rgba(0,0,0,0.18) !important;
          }
        </style>
        <div class="feature-card" style="background: white; padding: 24px; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); border-left: 4px solid #3b82f6; transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);">
          <div style="display: flex; align-items: center; margin-bottom: 12px;">
            <div style="background: #3b82f6; color: white; width: 32px; height: 32px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-right: 12px; font-weight: bold;">1</div>
            <h3 style="margin: 0; color: #1e40af; font-size: 18px;">Gesti√≥n de reservas</h3>
          </div>
          <p style="margin: 0; color: #64748b; line-height: 1.5;">Crea reservas manuales desde el panel web o activa el <strong>Plan Pro</strong> para conectarte con Booking, Airbnb, Expedia y cualquier OTA donde est√© tu alojamiento.</p>
        </div>

        <div class="feature-card" style="background: white; padding: 24px; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); border-left: 4px solid #10b981; transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);">
          <div style="display: flex; align-items: center; margin-bottom: 12px;">
            <div style="background: #10b981; color: white; width: 32px; height: 32px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-right: 12px; font-weight: bold;">2</div>
            <h3 style="margin: 0; color: #047857; font-size: 18px;">Gesti√≥n de habitaciones</h3>
          </div>
          <p style="margin: 0; color: #64748b; line-height: 1.5;">Asignar habitaciones espec√≠ficas a cada reserva</p>
        </div>

        <div class="feature-card" style="background: white; padding: 24px; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); border-left: 4px solid #f59e0b; transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);">
          <div style="display: flex; align-items: center; margin-bottom: 12px;">
            <div style="background: #f59e0b; color: white; width: 32px; height: 32px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-right: 12px; font-weight: bold;">3</div>
            <h3 style="margin: 0; color: #d97706; font-size: 18px;">Pre‚Äëcheck‚Äëin online</h3>
          </div>
          <p style="margin: 0; color: #64748b; line-height: 1.5;">Enviar enlace al hu√©sped para completar datos antes de llegar</p>
        </div>

        <div class="feature-card" style="background: white; padding: 24px; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); border-left: 4px solid #8b5cf6; transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);">
          <div style="display: flex; align-items: center; margin-bottom: 12px;">
            <div style="background: #8b5cf6; color: white; width: 32px; height: 32px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-right: 12px; font-weight: bold;">4</div>
            <h3 style="margin: 0; color: #7c3aed; font-size: 18px;">App m√≥vil Android &amp; iPhone</h3>
          </div>
          <p style="margin: 0; color: #64748b; line-height: 1.5;">Consulta reservas, check-ins y avisos desde la aplicaci√≥n nativa para iOS y Android. Recibe notificaciones push y actualiza estados en tiempo real.</p>
        </div>

        <div class="feature-card" style="background: white; padding: 24px; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); border-left: 4px solid #ef4444; transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);">
          <div style="display: flex; align-items: center; margin-bottom: 12px;">
            <div style="background: #ef4444; color: white; width: 32px; height: 32px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-right: 12px; font-weight: bold;">5</div>
            <h3 style="margin: 0; color: #dc2626; font-size: 18px;">Generador de facturas</h3>
          </div>
          <p style="margin: 0; color: #64748b; line-height: 1.5;">Crea facturas para tus hu√©spedes cuando lo necesiten. Solo completa sus datos y el sistema genera el PDF con tus datos fiscales autom√°ticamente.</p>
        </div>

        <div class="feature-card" style="background: white; padding: 24px; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); border-left: 4px solid #06b6d4; transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);">
          <div style="display: flex; align-items: center; margin-bottom: 12px;">
            <div style="background: #06b6d4; color: white; width: 32px; height: 32px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-right: 12px; font-weight: bold;">6</div>
            <h3 style="margin: 0; color: #0891b2; font-size: 18px;">Exportaci√≥n de datos</h3>
          </div>
          <p style="margin: 0; color: #64748b; line-height: 1.5;">CSV/Excel para contabilidad y declaraci√≥n de renta</p>
        </div>
      </div>
      <div class="note" style="margin-top:12px; padding:12px; background:#f0f9ff; border:1px solid #bae6fd; border-radius:8px;">
        <strong>Nota sobre integraciones:</strong> Sincronizamos calendarios mediante iCal (importaci√≥n/exportaci√≥n) con canales como Booking y Airbnb. Puedes crear reservas manualmente y mantener el calendario actualizado para facilitar el check‚Äëin y el registro de viajeros.
      </div>
    </section>

    <!-- Registro de viajeros / Formulario multi‚Äëidioma -->
    <section id="registro-viajeros" class="section container" aria-labelledby="registro-title">
      <h2 id="registro-title">Registro de viajeros (Ministerio del Interior)</h2>
      <p class="lead">Genera autom√°ticamente las fichas y env√≠alas seg√∫n normativa. Pide a tus hu√©spedes que completen un formulario seguro antes de llegar, disponible en varios idiomas.</p>

      <div class="card">
        <form id="form-registro" onsubmit="return false">
          <div style="display:flex; gap:10px; margin-bottom:12px; flex-wrap:wrap">
            <button class="btn" id="previewBtn" type="button">Previsualizar ficha</button>
          </div>
          <div class="form-grid" style="display:grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap:12px">
            <label>
              <span>Entrada (check‚Äëin)</span>
              <input id="arrivalDt" type="datetime-local" style="width:100%; height:40px; border-radius:10px; background:#0c1428; color:var(--text); border:1px solid rgba(255,255,255,.12); padding:0 12px">
            </label>
            <label>
              <span>Salida (check‚Äëout)</span>
              <input id="departureDt" type="datetime-local" style="width:100%; height:40px; border-radius:10px; background:#0c1428; color:var(--text); border:1px solid rgba(255,255,255,.12); padding:0 12px">
            </label>
            <label>
              <span>Idioma del formulario</span>
              <select id="lang" style="width:100%; height:40px; border-radius:10px; background:#0c1428; color:var(--text); border:1px solid rgba(255,255,255,.12); padding:0 10px">
                <option value="es">Espa√±ol</option>
                <option value="en">English</option>
                <option value="fr">Fran√ßais</option>
                <option value="de">Deutsch</option>
                <option value="it">Italiano</option>
              </select>
            </label>
            <label>
              <span>Nombre y apellidos</span>
              <input id="guestName" required placeholder="Nombre del hu√©sped" style="width:100%; height:40px; border-radius:10px; background:#0c1428; color:var(--text); border:1px solid rgba(255,255,255,.12); padding:0 12px">
            </label>
            <label>
              <span>Documento (DNI/Pasaporte)</span>
              <input id="docNumber" required placeholder="N√∫mero de documento" style="width:100%; height:40px; border-radius:10px; background:#0c1428; color:var(--text); border:1px solid rgba(255,255,255,.12); padding:0 12px">
            </label>
            <label>
              <span>Fecha de nacimiento</span>
              <input id="birthDate" type="date" required style="width:100%; height:40px; border-radius:10px; background:#0c1428; color:var(--text); border:1px solid rgba(255,255,255,.12); padding:0 12px">
            </label>
            <label>
              <span>Nacionalidad</span>
              <input id="nationality" placeholder="Ej. Espa√±ola" style="width:100%; height:40px; border-radius:10px; background:#0c1428; color:var(--text); border:1px solid rgba(255,255,255,.12); padding:0 12px">
            </label>
            <label>
              <span>Correo</span>
              <input id="email" type="email" placeholder="email@ejemplo.com" style="width:100%; height:40px; border-radius:10px; background:#0c1428; color:var(--text); border:1px solid rgba(255,255,255,.12); padding:0 12px">
            </label>
          </div>
          <p class="note" style="margin-top:10px">Este es un ejemplo est√°tico para mostrar el flujo. En producci√≥n, se validan y almacenan los datos y se generan los ficheros oficiales.</p>
          <div class="note" style="margin-top:6px">
            <strong>Ejemplos de parte de viajero:</strong> DNI/NIE o Pasaporte, nombre completo, fecha de nacimiento, nacionalidad, direcci√≥n y contacto, fechas de entrada/salida.
          </div>
        </form>
      </div>
    </section>

    <!-- Instrucciones de uso en 3 pasos -->
    <section id="instrucciones" class="section container" aria-labelledby="steps-title">
      <h2 id="steps-title">C√≥mo usar Delf√≠n Check‚Äëin en 3 pasos</h2>
      <p class="lead">Gu√≠a r√°pida para enviar, recibir y presentar los partes de viajero.</p>
      <div class="pricing" style="grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));">
        <article class="card">
          <h3>Paso 1 ¬∑ Enviar formulario</h3>
          <p class="note">Env√≠a al hu√©sped el enlace del <strong>formulario de registro de parte de viajero</strong> en su idioma.</p>
        </article>
        <article class="card">
          <h3>Paso 2 ¬∑ Recibir en Delf√≠n Check‚Äëin</h3>
          <p class="note">Cuando el hu√©sped lo completa, el <strong>parte de viajero</strong> llega autom√°ticamente a <strong>Delf√≠n Check‚Äëin</strong> y queda guardado.</p>
        </article>
        <article class="card">
          <h3>Paso 3 ¬∑ Env√≠o directo al Ministerio sin coste extra</h3>
          <p class="note">El sistema env√≠a autom√°ticamente los <strong>partes de viajero</strong> al <strong>Ministerio del Interior de Espa√±a</strong> siguiendo la normativa, sin coste adicional.</p>
        </article>
      </div>
    </section>

    <!-- Datos centralizados y descarga para renta anual -->
    <section id="datos" class="section container" aria-labelledby="datos-title">
      <h2 id="datos-title">Todos los datos centralizados</h2>
      <p class="lead">Exporta un √∫nico archivo con todos los ingresos y reservas para tu declaraci√≥n de la renta anual. Ahorra tiempo y errores.</p>
      <div class="card">
        <div class="checklist" style="grid-template-columns: repeat(auto-fit, minmax(180px,1fr)); justify-items: center; gap: 16px;">
          <div class="check" style="justify-content: center; text-align: center; white-space: nowrap;"><i>‚úî</i> Descarga CSV/Excel unificado</div>
          <div class="check" style="justify-content: center; text-align: center; white-space: nowrap;"><i>‚úî</i> Rangos de fechas (mes/a√±o fiscal)</div>
          <div class="check" style="justify-content: center; text-align: center; white-space: nowrap;"><i>‚úî</i> Datos listos para asesor√≠a</div>
        </div>
        <div class="cta" style="margin-top:12px">
          <a class="btn primary" href="#" id="downloadCsvBtn">Descargar ejemplo (CSV)</a>
          
        </div>
      </div>
    </section>

    <section id="precio" class="section container">
      <h2 data-es="Precios simples y claros" data-en="Simple and clear pricing">Precios simples y claros</h2>
      <p class="lead" data-es="Precio por propiedad con descuentos por volumen. Cuantas m√°s propiedades, mejor precio por unidad. <strong>Precio vigente hasta el pr√≥ximo ajuste.</strong>" data-en="Price per property with volume discounts. More properties, better price per unit. <strong>Current price until next adjustment.</strong>">Precio por propiedad con descuentos por volumen. Cuantas m√°s propiedades, mejor precio por unidad. <strong>Precio vigente hasta el pr√≥ximo ajuste.</strong></p>
      
      <!-- Tabla de precios por volumen -->
      <div class="card" style="margin-bottom: 32px; padding: 24px;">
        <h3 style="text-align: center; margin-bottom: 24px;" data-es="Precios por volumen" data-en="Volume pricing">Precios por volumen</h3>
        <p style="text-align: center; margin-bottom: 24px; color: #64748b; font-size: 16px;" data-es="Cuanto m√°s propiedades tengas, mejor precio por unidad obtienes" data-en="The more properties you have, the better price per unit you get">Cuanto m√°s propiedades tengas, mejor precio por unidad obtienes</p>
        
        <div style="overflow-x: auto;">
          <table style="width: 100%; border-collapse: collapse; font-size: 16px; background: white; border-radius: 12px; overflow: hidden; box-shadow: 0 4px 6px rgba(0,0,0,0.05);">
            <thead>
              <tr style="background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%); color: #1f2937;">
                <th style="padding: 20px 16px; text-align: left; font-weight: 700; font-size: 18px; color: #1f2937;">N¬∞ de propiedades</th>
                <th style="padding: 20px 16px; text-align: center; font-weight: 700; font-size: 18px; color: #1f2937;">Descuento</th>
                <th style="padding: 20px 16px; text-align: center; font-weight: 700; font-size: 18px; color: #1f2937;">Precio unitario mensual</th>
                <th style="padding: 20px 16px; text-align: center; font-weight: 700; font-size: 18px; color: #1f2937;">Total mensual</th>
              </tr>
            </thead>
            <tbody>
              <tr style="border-bottom: 1px solid #e5e7eb;">
                <td style="padding: 16px; font-weight: 600; color: #1f2937;">1 propiedad</td>
                <td style="padding: 16px; text-align: center; color: #6b7280;">-</td>
                <td style="padding: 16px; text-align: center; font-weight: 600; color: #1f2937;">14,99 ‚Ç¨</td>
                <td style="padding: 16px; text-align: center; font-weight: 700; color: #1f2937; font-size: 18px;">14,99 ‚Ç¨</td>
              </tr>
              <tr style="border-bottom: 1px solid #e5e7eb; background: #f8fafc;">
                <td style="padding: 16px; font-weight: 600; color: #1f2937;">2 propiedades</td>
                <td style="padding: 16px; text-align: center; color: #059669; font-weight: 600;">10%</td>
                <td style="padding: 16px; text-align: center; font-weight: 600; color: #1f2937;">13,49 ‚Ç¨</td>
                <td style="padding: 16px; text-align: center; font-weight: 700; color: #1f2937; font-size: 18px;">26,98 ‚Ç¨</td>
              </tr>
              <tr style="border-bottom: 1px solid #e5e7eb;">
                <td style="padding: 16px; font-weight: 600; color: #1f2937;">4 propiedades</td>
                <td style="padding: 16px; text-align: center; color: #059669; font-weight: 600;">15%</td>
                <td style="padding: 16px; text-align: center; font-weight: 600; color: #1f2937;">12,74 ‚Ç¨</td>
                <td style="padding: 16px; text-align: center; font-weight: 700; color: #1f2937; font-size: 18px;">50,96 ‚Ç¨</td>
              </tr>
              <tr style="border-bottom: 1px solid #e5e7eb;">
                <td style="padding: 16px; font-weight: 600; color: #1f2937;">5-9 propiedades</td>
                <td style="padding: 16px; text-align: center; color: #059669; font-weight: 600;">20%</td>
                <td style="padding: 16px; text-align: center; font-weight: 600; color: #1f2937;">11,99 ‚Ç¨</td>
                <td style="padding: 16px; text-align: center; font-weight: 700; color: #1f2937; font-size: 18px;">59,95 ‚Ç¨</td>
              </tr>
              <tr style="background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);">
                <td style="padding: 16px; font-weight: 700; color: #92400e;">10+ propiedades</td>
                <td style="padding: 16px; text-align: center; color: #059669; font-weight: 700;">25%</td>
                <td style="padding: 16px; text-align: center; font-weight: 700; color: #92400e;">11,24 ‚Ç¨</td>
                <td style="padding: 16px; text-align: center; font-weight: 800; color: #92400e; font-size: 20px;">112,40 ‚Ç¨</td>
              </tr>
            </tbody>
          </table>
        </div>
        
        <div style="margin-top: 24px; padding: 20px; background: #ecfdf5; border-radius: 12px; border-left: 4px solid #10b981;">
          <h4 style="margin: 0 0 12px 0; color: #065f46; font-weight: 700;">üí° Descuento anual adicional</h4>
          <p style="margin: 0; color: #047857; font-size: 16px;" data-es="Todos los planes incluyen un 16,7% de descuento adicional si pagas anualmente (equivalente a 2 meses gratis)" data-en="All plans include an additional 16.7% discount if you pay annually (equivalent to 2 months free)">Todos los planes incluyen un <strong>16,7% de descuento adicional</strong> si pagas anualmente (equivalente a 2 meses gratis)</p>
        </div>
      </div>
      
      <!-- Calculadora de precios -->
      <div class="card" style="margin-bottom: 32px; padding: 0; background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%); border: 2px solid #2563eb; border-radius: 16px; overflow: hidden; box-shadow: 0 10px 30px rgba(37, 99, 235, 0.1);">
        <!-- Header con gradiente -->
        <div style="background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%); padding: 24px; text-align: center; color: white;">
          <div style="font-size: 32px; margin-bottom: 8px;">üí∞</div>
          <h3 style="margin: 0 0 8px; font-size: 24px; font-weight: 700;">Calculadora de precios</h3>
          <p style="margin: 0; opacity: 0.9; font-size: 16px;">Descubre cu√°nto te costar√≠a Delf√≠n Check-in seg√∫n tus necesidades</p>
        </div>
        
        <!-- Contenido principal -->
        <div style="padding: 32px;">
          <div class="calculator-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 24px; margin-bottom: 32px;">
            <!-- Selector de propiedades -->
            <div style="position: relative;">
              <label style="display: block; margin-bottom: 12px; font-weight: 600; color: var(--text); font-size: 16px;">
                üè† N√∫mero de propiedades
              </label>
              <div style="position: relative;">
                <input type="number" id="calcProperties" min="1" max="50" value="1" readonly class="calculator-input"
                       style="width: 100%; height: 50px; border-radius: 12px; border: 2px solid #e2e8f0; padding: 0 20px 0 20px; font-size: 18px; text-align: center; font-weight: 600; color: #2563eb; background: white; transition: all 0.3s ease; box-shadow: 0 2px 8px rgba(0,0,0,0.05); -moz-appearance: textfield; cursor: default;"
                       onfocus="this.style.borderColor='#2563eb'; this.style.boxShadow='0 0 0 3px rgba(37, 99, 235, 0.1)'"
                       onblur="this.style.borderColor='#e2e8f0'; this.style.boxShadow='0 2px 8px rgba(0,0,0,0.05)'"
                       onkeydown="return false;"
                       onpaste="return false;"
                       oninput="return false;">
                <!-- Flechas personalizadas m√°s grandes y bonitas -->
                <div style="position: absolute; right: 8px; top: 50%; transform: translateY(-50%); display: flex; flex-direction: column; gap: 2px; pointer-events: auto; z-index: 10;">
           <button type="button" id="incrementBtn"
                   onmousedown="startIncrement()"
                   onmouseup="stopIncrement()"
                   onmouseleave="stopIncrement()"
                   onclick="singleIncrement()"
                          style="width: 24px; height: 20px; background: #2563eb; color: white; border: none; border-radius: 4px 4px 0 0; cursor: pointer; display: flex; align-items: center; justify-content: center; font-size: 12px; font-weight: bold; transition: all 0.2s ease; user-select: none;"
                          onmouseover="this.style.background='#1d4ed8'"
                          onmouseout="this.style.background='#2563eb'">‚ñ≤</button>
                  <button type="button" id="decrementBtn"
                          onmousedown="startDecrement()"
                          onmouseup="stopDecrement()"
                          onmouseleave="stopDecrement()"
                          onclick="singleDecrement()"
                          style="width: 24px; height: 20px; background: #2563eb; color: white; border: none; border-radius: 0 0 4px 4px; cursor: pointer; display: flex; align-items: center; justify-content: center; font-size: 12px; font-weight: bold; transition: all 0.2s ease; user-select: none;"
                          onmouseover="this.style.background='#1d4ed8'"
                          onmouseout="this.style.background='#2563eb'">‚ñº</button>
                </div>
                <div style="position: absolute; right: 40px; top: 50%; transform: translateY(-50%); color: #94a3b8; font-size: 14px; font-weight: 500; pointer-events: none;">propiedades</div>
              </div>
            </div>
            
            <!-- Selector de plan -->
            <div>
              <label style="display: block; margin-bottom: 12px; font-weight: 600; color: var(--text); font-size: 16px;">
                üìÖ Tipo de plan
              </label>
              <div style="position: relative;">
                <select id="calcPlan" class="calculator-input" style="width: 100%; height: 50px; border-radius: 12px; border: 2px solid #e2e8f0; padding: 0 50px 0 20px; font-size: 16px; font-weight: 500; background: white; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 2px 8px rgba(0,0,0,0.05); appearance: none; -webkit-appearance: none; -moz-appearance: none;"
                        onfocus="this.style.borderColor='#2563eb'; this.style.boxShadow='0 0 0 3px rgba(37, 99, 235, 0.1)'"
                        onblur="this.style.borderColor='#e2e8f0'; this.style.boxShadow='0 2px 8px rgba(0,0,0,0.05)'">
                  <option value="monthly">üí≥ Mensual (14,99‚Ç¨/propiedad)</option>
                  <option value="yearly" selected>üéØ Anual (descuento 16,7%) - RECOMENDADO</option>
                </select>
                <!-- Flecha personalizada para el select -->
                <div style="position: absolute; right: 15px; top: 50%; transform: translateY(-50%); pointer-events: none; color: #2563eb; font-size: 16px; font-weight: bold;">‚ñº</div>
              </div>
            </div>
          </div>
          
          <!-- Resultados con dise√±o mejorado -->
          <div id="calcResults" class="calculator-results" style="background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%); border-radius: 16px; padding: 32px; text-align: center; border: 2px solid #e2e8f0; position: relative; overflow: hidden;">
            <!-- Decoraci√≥n de fondo -->
            <div style="position: absolute; top: -20px; right: -20px; width: 100px; height: 100px; background: linear-gradient(135deg, #2563eb, #1d4ed8); border-radius: 50%; opacity: 0.1;"></div>
            <div style="position: absolute; bottom: -30px; left: -30px; width: 80px; height: 80px; background: linear-gradient(135deg, #16a34a, #15803d); border-radius: 50%; opacity: 0.1;"></div>
            
            <div style="position: relative; z-index: 1;">
              <div style="font-size: 36px; font-weight: 900; color: #2563eb; margin-bottom: 12px; text-shadow: 0 2px 4px rgba(37, 99, 235, 0.1);" id="calcTotal">181,38‚Ç¨/a√±o</div>
              <div style="color: #64748b; margin-bottom: 8px; font-size: 14px; font-weight: 500;">(IVA incluido)</div>
              <div style="color: #64748b; margin-bottom: 8px; font-size: 14px; font-weight: 500;" id="calcPerProperty">14,99‚Ç¨ por propiedad</div>
              <div style="margin-bottom: 12px; padding: 8px 12px; background: rgba(0,0,0,0.02); border-radius: 8px; font-size: 12px; color: #64748b;">
                <div style="display: flex; justify-content: space-between; margin-bottom: 4px;">
                  <span>Base imponible:</span>
                  <span id="calcBase" style="font-weight: 600;">149,90‚Ç¨</span>
                </div>
                <div style="display: flex; justify-content: space-between;">
                  <span>IVA (21%):</span>
                  <span id="calcIVA" style="font-weight: 600;">31,48‚Ç¨</span>
                </div>
              </div>
              <div style="color: #16a34a; font-weight: 700; font-size: 18px; padding: 8px 16px; background: rgba(22, 163, 74, 0.1); border-radius: 20px; display: inline-block;" id="calcSavings">Ahorras 29,90‚Ç¨ al a√±o</div>
            </div>
          </div>
          
          <!-- Bot√≥n de contratar -->
          <button onclick="openStripePaymentFromCalculator()" 
                  style="width: 100%; margin-top: 24px; padding: 16px; background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%); color: white; border: none; border-radius: 12px; font-size: 18px; font-weight: 700; cursor: pointer; box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3); transition: all 0.3s ease;"
                  onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 6px 16px rgba(37, 99, 235, 0.4)'"
                  onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 12px rgba(37, 99, 235, 0.3)'">
            üí≥ Contratar
          </button>
        </div>
      </div>
      
      <div class="pricing">
        <article class="card" itemscope itemtype="https://schema.org/Offer">
          <h3 itemprop="name">Plan mensual</h3>
          <div class="price"><strong itemprop="price" content="14.99">14,99‚Ç¨</strong><small>/ propiedad / mes</small></div>
          <meta itemprop="priceCurrency" content="EUR">
          <ul class="features">
            <li>Gesti√≥n manual de reservas</li>
            <li>Check‚Äëin online</li>
            <li>Gesti√≥n de habitaciones</li>
            <li>Registro de viajeros</li>
            <li>Soporte por email</li>
          </ul>
          <div class="cta">
            <button class="btn primary" onclick="startPayment('monthly')" style="width: 100%; padding: 16px; font-size: 18px; font-weight: 700; cursor: pointer; pointer-events: auto; user-select: none; border: none; background: #2563eb; color: white; border-radius: 8px;">Contratar</button>
          </div>
          <p class="note">Sin permanencia. Cancela cuando quieras.</p>
        </article>
        <article class="card" itemscope itemtype="https://schema.org/Offer" style="border: 2px solid #2563eb; position: relative;">
          <div style="position: absolute; top: -10px; left: 50%; transform: translateX(-50%); background: #2563eb; color: white; padding: 4px 12px; border-radius: 12px; font-size: 12px; font-weight: 600;">Recomendado</div>
          <h3 itemprop="name">Plan anual</h3>
          <div class="price"><strong itemprop="price" content="149.90">149,90‚Ç¨</strong><small>/ propiedad / a√±o</small></div>
          <meta itemprop="priceCurrency" content="EUR">
          <ul class="features">
            <li>Todo lo del mensual</li>
            <li>Descuento 16,7% por pago anual</li>
            <li>Soporte prioritario</li>
            <li>Onboarding asistido</li>
            <li>Equivale a 12,49‚Ç¨/mes</li>
          </ul>
          <div class="cta">
            <button class="btn primary" onclick="startPayment('yearly')" style="width: 100%; padding: 16px; font-size: 18px; font-weight: 700; cursor: pointer; pointer-events: auto; user-select: none; border: none; background: #2563eb; color: white; border-radius: 8px;">Contratar</button>
          </div>
          <p class="note">Ahorra 29,90‚Ç¨ al a√±o por propiedad.</p>
        </article>
        <article class="card" itemscope itemtype="https://schema.org/Offer">
          <h3 itemprop="name">Descuentos por volumen</h3>
          <div class="price"><strong>Hasta 25%</strong><small>descuento</small></div>
          <div class="price"><strong>Desde 2 propiedades</strong><small>mejor precio</small></div>
          <ul class="features">
            <li>2 propiedades: 13,49‚Ç¨ cada una</li>
            <li>3 propiedades: 13,49‚Ç¨ cada una</li>
            <li>4 propiedades: 12,74‚Ç¨ cada una</li>
            <li>5-9 propiedades: 11,99‚Ç¨ cada una</li>
            <li>10+ propiedades: 11,24‚Ç¨ cada una</li>
          </ul>
          <div class="cta">
            <button class="btn primary" onclick="startPayment('volume')" style="width: 100%; padding: 16px; font-size: 18px; font-weight: 700; cursor: pointer; pointer-events: auto; user-select: none; border: none; background: #2563eb; color: white; border-radius: 8px;">Contratar</button>
          </div>
          <p class="note">Descuentos autom√°ticos seg√∫n volumen.</p>
        </article>
      </div>
      
    </section>

    <!-- Formulario de Contacto -->
    <section id="contacto" class="section container">
      <h2 data-es="¬øTienes alguna pregunta?" data-en="Do you have any questions?">¬øTienes alguna pregunta?</h2>
      <p class="lead" data-es="Cont√°ctanos y te ayudaremos a encontrar la mejor soluci√≥n para tu alojamiento." data-en="Contact us and we'll help you find the best solution for your accommodation.">Cont√°ctanos y te ayudaremos a encontrar la mejor soluci√≥n para tu alojamiento.</p>
      <div style="display: flex; flex-direction: column; gap: 32px;">
        <div class="card">
          <h3 data-es="Enviar mensaje" data-en="Send message">Enviar mensaje</h3>
          <form id="contactForm" onsubmit="return false">
            <div style="display: grid; gap: 12px; margin-bottom: 16px;">
              <label>
                <span data-es="Nombre *" data-en="Name *">Nombre *</span>
                <input id="contactName" required placeholder="Tu nombre completo" data-es-placeholder="Tu nombre completo" data-en-placeholder="Your full name" style="width: 100%; height: 40px; border-radius: 10px; background: #ffffff; color: #0f172a; border: 1px solid rgba(15,23,42,.2); padding: 0 12px;">
              </label>
              <label>
                <span data-es="Email *" data-en="Email *">Email *</span>
                <input id="contactEmail" type="email" required placeholder="tu@email.com" data-es-placeholder="tu@email.com" data-en-placeholder="your@email.com" style="width: 100%; height: 40px; border-radius: 10px; background: #ffffff; color: #0f172a; border: 1px solid rgba(15,23,42,.2); padding: 0 12px;">
              </label>
              <label>
                <span data-es="Empresa/Alojamiento" data-en="Company/Accommodation">Empresa/Alojamiento</span>
                <input id="contactBusiness" placeholder="Nombre de tu negocio" data-es-placeholder="Nombre de tu negocio" data-en-placeholder="Your business name" style="width: 100%; height: 40px; border-radius: 10px; background: #ffffff; color: #0f172a; border: 1px solid rgba(15,23,42,.2); padding: 0 12px;">
              </label>
              <label>
                <span data-es="Mensaje *" data-en="Message *">Mensaje *</span>
                <textarea id="contactMessage" required placeholder="Cu√©ntanos qu√© necesitas..." data-es-placeholder="Cu√©ntanos qu√© necesitas..." data-en-placeholder="Tell us what you need..." rows="4" style="width: 100%; border-radius: 10px; background: #ffffff; color: #0f172a; border: 1px solid rgba(15,23,42,.2); padding: 12px; resize: vertical;"></textarea>
              </label>
            </div>
            <div class="cta">
              <button class="btn primary" id="sendContact" type="submit" data-es="Enviar mensaje" data-en="Send message">Enviar mensaje</button>
            </div>
            <p class="note" style="margin-top: 12px;" data-es="Te responderemos en menos de 24 horas." data-en="We'll respond within 24 hours.">Te responderemos en menos de 24 horas.</p>
          </form>
        </div>
        <!-- Informaci√≥n de contacto compacta -->
        <div class="card" style="background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%); border: 1px solid #e2e8f0;">
          <h3 style="text-align: center; margin-bottom: 20px;">Informaci√≥n de contacto</h3>
          <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px; text-align: center;">
            <div>
              <div style="font-size: 20px; margin-bottom: 8px;">üìß</div>
              <div style="font-weight: 600; color: var(--text); margin-bottom: 4px;">Email</div>
              <div style="color: var(--muted); font-size: 14px;">contacto@delfincheckin.com</div>
            </div>
            <div>
              <div style="font-size: 20px; margin-bottom: 8px;">üïí</div>
              <div style="font-weight: 600; color: var(--text); margin-bottom: 4px;">Horario</div>
              <div style="color: var(--muted); font-size: 14px;">Lun-Dom: 9:00-22:00</div>
            </div>
          </div>
          <div class="cta" style="margin-top: 20px; justify-content: center;">
            <a class="btn primary" href="mailto:contacto@delfincheckin.com?subject=Consulta%20Delfin%20Check-in" target="_blank" onclick="handleEmailDirecto(event)">Email directo</a>
          </div>
        </div>
      </div>
    </section>

    <!-- Testimonios -->
    <section id="testimonios" class="section container">
      <h2>Lo que dicen nuestros clientes</h2>
      <p class="lead">Hostales y apartamentos que ya conf√≠an en Delf√≠n Check-in para su gesti√≥n diaria.</p>
      <div class="testimonials">
        <div class="testimonial">
          <div class="testimonial-text">Ahora no tengo que hacer el check‚Äëin: est√° todo automatizado. Antes tardaba m√°s de 10 minutos por hu√©sped; ahora es autom√°tico y se env√≠a de manera autom√°tica. Los hu√©spedes llegan con la documentaci√≥n completa y el parte se env√≠a al Ministerio sin complicaciones.</div>
          <div class="testimonial-author">Mar√≠a Gonz√°lez</div>
          <div class="testimonial-role">Gerente, Hostal Centro M√°laga</div>
        </div>
        <div class="testimonial">
          <div class="testimonial-text">El precio es imbatible: 4‚Ç¨ por propiedad. Otros PMS nos cobraban 50‚Ç¨/mes. La gesti√≥n manual es perfecta para nosotros, tenemos control total.</div>
          <div class="testimonial-author">Carlos Ruiz</div>
          <div class="testimonial-role">Propietario, Apartamentos Costa del Sol</div>
        </div>
        <div class="testimonial">
          <div class="testimonial-text">La exportaci√≥n para la renta me ahorra horas cada mes. Un solo CSV con todos los datos. Mi asesor est√° encantado con la organizaci√≥n.</div>
          <div class="testimonial-author">Ana Mart√≠n</div>
          <div class="testimonial-role">Administradora, Pensi√≥n La Playa</div>
        </div>
      </div>
    </section>

    <section id="faq" class="section container">
      <h2>Preguntas frecuentes</h2>
      <details>
        <summary>¬øPuedo cancelar cuando quiera?</summary>
        <p>
          S√≠. El plan mensual funciona como una suscripci√≥n sin permanencia: puedes darte de baja en cualquier momento desde el panel o solicit√°ndolo a soporte, y no se te volver√°n a emitir cargos a partir del siguiente ciclo. 
          Si eliges el plan anual, disfrutas de un precio reducido y la licencia permanece activa durante 12 meses completos; al finalizar el periodo puedes renovar o cambiarte a mensual sin penalizaci√≥n.
        </p>
      </details>
      <details>
        <summary>¬øIncluye channel manager?</summary>
        <p>
          Trabajamos con conectores para sincronizar disponibilidad, tarifas y reservas con los principales portales (p. ej., Booking.com, Airbnb, Expedia). 
          La activaci√≥n depende de tu mix de canales y del plan contratado. Si ya tienes un channel manager, podemos integrarnos para evitar duplicidades. 
          Te asesoramos en la configuraci√≥n inicial para minimizar overbookings y mantener inventario unificado.
        </p>
      </details>
      <details>
        <summary>¬øC√≥mo se hace el check‚Äëin online?</summary>
        <p>
          Desde el dashboard generas o programas el env√≠o de un enlace seguro al hu√©sped (por email o WhatsApp). 
          El viajero completa sus datos, adjunta documentaci√≥n y firma si procede, todo en su idioma. 
          La informaci√≥n llega validada al sistema y se consolida en el registro de viajeros para su posterior env√≠o al Ministerio del Interior. 
          Al llegar, el proceso en recepci√≥n se reduce a validar identidad y entregar llaves.
        </p>
      </details>
      <details>
        <summary>¬øPuedo exportar datos para la asesor√≠a y la renta?</summary>
        <p>
          S√≠. Puedes descargar un √∫nico archivo (CSV/Excel) con ingresos, tasas y ocupaci√≥n filtrado por rango de fechas o ejercicio fiscal. 
          Adem√°s, el registro de viajeros se exporta en los formatos requeridos para su notificaci√≥n oficial.
        </p>
      </details>
      <details>
        <summary>¬øC√≥mo funciona la IA de Telegram? ü§ñ</summary>
        <p>
          Nuestro asistente de IA integrado en Telegram responde autom√°ticamente a las consultas de tus hu√©spedes 24/7. 
          Puede informar sobre check-in, horarios, servicios, ubicaci√≥n y resolver dudas comunes sin intervenci√≥n tuya. 
          Se entrena con la informaci√≥n espec√≠fica de tu establecimiento y aprende de cada interacci√≥n para mejorar sus respuestas.
        </p>
      </details>
      <details>
        <summary>¬øQu√© idiomas soporta el sistema?</summary>
        <p>
          El check-in online est√° disponible en espa√±ol, ingl√©s, franc√©s, alem√°n, italiano y portugu√©s. 
          Los formularios se adaptan autom√°ticamente seg√∫n la ubicaci√≥n del hu√©sped o pueden seleccionarse manualmente. 
          El panel de administraci√≥n est√° en espa√±ol con soporte para m√∫ltiples idiomas en desarrollo.
        </p>
      </details>
      <details>
        <summary>¬øC√≥mo se integra con mi sistema actual?</summary>
        <p>
          Delf√≠n Check-in se conecta con los principales PMS (Property Management Systems) y channel managers como Hotelogix, 
          Little Hotelier, SiteMinder y otros. Tambi√©n ofrecemos APIs para integraciones personalizadas y sincronizaci√≥n 
          en tiempo real de reservas, precios y disponibilidad.
        </p>
      </details>
      <details>
        <summary>¬øQu√© seguridad tienen los datos de mis hu√©spedes?</summary>
        <p>
          Cumplimos con el RGPD y la normativa espa√±ola de protecci√≥n de datos. Los datos se almacenan en servidores seguros 
          en la UE con cifrado de extremo a extremo. Realizamos copias de seguridad diarias y tenemos protocolos de seguridad 
          que incluyen autenticaci√≥n de dos factores y monitoreo 24/7.
        </p>
      </details>
      <details>
        <summary>¬øPuedo personalizar el formulario de check-in?</summary>
        <p>
          S√≠, puedes a√±adir campos personalizados, modificar el dise√±o, incluir tu logo y colores corporativos, 
          y configurar validaciones espec√≠ficas. Tambi√©n puedes crear diferentes formularios para distintos tipos 
          de alojamiento o temporadas del a√±o.
        </p>
      </details>
      <details>
        <summary>¬øC√≥mo funciona la sincronizaci√≥n de calendarios?</summary>
        <p>
          Nuestro sistema sincroniza autom√°ticamente con Google Calendar, Outlook y otros calendarios populares. 
          Las reservas se actualizan en tiempo real, evitando overbookings y permitiendo gestionar tu disponibilidad 
          desde cualquier dispositivo o plataforma.
        </p>
      </details>
      <details>
        <summary>¬øQu√© pasa si no tengo internet? üì∂</summary>
        <p>
          El sistema funciona offline: los hu√©spedes pueden completar el check-in sin conexi√≥n y los datos se sincronizan 
          autom√°ticamente cuando se restablece la conexi√≥n. Toda la informaci√≥n queda guardada localmente para garantizar 
          que no se pierda ning√∫n registro.
        </p>
      </details>
      <details>
        <summary>¬øHay l√≠mite en el n√∫mero de hu√©spedes o reservas?</summary>
        <p>
          No hay l√≠mites en el n√∫mero de hu√©spedes, reservas o consultas. Nuestros planes se basan en el n√∫mero de propiedades, 
          no en el volumen de transacciones. Puedes gestionar desde un peque√±o apartamento hasta grandes complejos hoteleros 
          con la misma funcionalidad.
        </p>
      </details>
      <details>
        <summary>¬øC√≥mo se notifica autom√°ticamente al Ministerio del Interior?</summary>
        <p>
          El sistema genera autom√°ticamente los archivos en el formato oficial requerido por el Ministerio del Interior 
          y los env√≠a por email o FTP seg√∫n tu configuraci√≥n. Tambi√©n puedes descargarlos manualmente y enviarlos 
          a trav√©s de tu canal preferido.
        </p>
      </details>
      <details>
        <summary>¬øPuedo probar el sistema antes de contratar?</summary>
        <p>
          Ofrecemos una prueba gratuita de 14 d√≠as sin compromiso. Puedes configurar tu primera propiedad, 
          probar todas las funcionalidades, importar datos de prueba y ver c√≥mo funciona el check-in completo. 
          No se requiere tarjeta de cr√©dito para empezar.
        </p>
      </details>
      <details>
        <summary>¬øQu√© soporte t√©cnico incluye?</summary>
        <p>
          Incluimos soporte por email, chat en vivo y videollamadas cuando sea necesario. Nuestro equipo responde 
          en menos de 2 horas durante horario comercial y tenemos documentaci√≥n completa, tutoriales en video 
          y webinars semanales para ayudarte a sacar el m√°ximo partido del sistema.
        </p>
      </details>
    </section>
  </main>

  <!-- Modal de previsualizaci√≥n -->
  <div id="previewModal" style="position:fixed; inset:0; display:none; align-items:center; justify-content:center; background:rgba(15,23,42,.6); z-index:1000; backdrop-filter: blur(4px);">
    <div style="width:min(800px, 95vw); max-height:90vh; background:#ffffff; color:#0f172a; border-radius:16px; box-shadow:0 25px 80px rgba(0,0,0,.4); overflow:hidden; animation: slideIn 0.3s ease-out;">
      <!-- Header con gradiente -->
      <div style="background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%); color: white; padding: 20px 24px; display:flex; align-items:center; justify-content:space-between;">
        <div style="display: flex; align-items: center; gap: 12px;">
          <div style="font-size: 24px;">üìã</div>
          <div>
            <h3 style="margin: 0; font-size: 20px; font-weight: 700;">Previsualizaci√≥n de Ficha de Registro</h3>
            <p style="margin: 4px 0 0; font-size: 14px; opacity: 0.9;">Datos del hu√©sped generados autom√°ticamente</p>
          </div>
        </div>
        <button id="previewClose" style="background: rgba(255,255,255,0.2); color: white; border: 1px solid rgba(255,255,255,0.3); height: 40px; width: 40px; border-radius: 8px; cursor: pointer; display: flex; align-items: center; justify-content: center; font-size: 18px; font-weight: bold; transition: all 0.2s ease;"
                onmouseover="this.style.background='rgba(255,255,255,0.3)'"
                onmouseout="this.style.background='rgba(255,255,255,0.2)'">√ó</button>
      </div>
      
      <!-- Contenido principal -->
      <div style="padding: 24px; max-height: calc(90vh - 100px); overflow-y: auto;">
        <!-- Informaci√≥n personal -->
        <div style="background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%); border-radius: 12px; padding: 20px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
          <h4 style="margin: 0 0 16px; color: #1e40af; font-size: 16px; font-weight: 600; display: flex; align-items: center; gap: 8px;">
            üë§ Informaci√≥n Personal
          </h4>
          <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 16px;">
            <div style="background: white; padding: 12px; border-radius: 8px; border: 1px solid #e2e8f0;">
              <div style="color: #64748b; font-size: 12px; font-weight: 500; text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 4px;">Nombre completo</div>
              <div id="pv-name" style="font-weight: 600; color: #0f172a; font-size: 16px;"></div>
            </div>
            <div style="background: white; padding: 12px; border-radius: 8px; border: 1px solid #e2e8f0;">
              <div style="color: #64748b; font-size: 12px; font-weight: 500; text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 4px;">Documento de identidad</div>
              <div id="pv-doc" style="font-weight: 600; color: #0f172a; font-size: 16px;"></div>
            </div>
            <div style="background: white; padding: 12px; border-radius: 8px; border: 1px solid #e2e8f0;">
              <div style="color: #64748b; font-size: 12px; font-weight: 500; text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 4px;">Fecha de nacimiento</div>
              <div id="pv-birth" style="font-weight: 600; color: #0f172a; font-size: 16px;"></div>
            </div>
            <div style="background: white; padding: 12px; border-radius: 8px; border: 1px solid #e2e8f0;">
              <div style="color: #64748b; font-size: 12px; font-weight: 500; text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 4px;">Nacionalidad</div>
              <div id="pv-nation" style="font-weight: 600; color: #0f172a; font-size: 16px;"></div>
            </div>
          </div>
        </div>

        <!-- Informaci√≥n de contacto -->
        <div style="background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%); border-radius: 12px; padding: 20px; margin-bottom: 20px; border: 1px solid #bae6fd;">
          <h4 style="margin: 0 0 16px; color: #1e40af; font-size: 16px; font-weight: 600; display: flex; align-items: center; gap: 8px;">
            üìß Informaci√≥n de Contacto
          </h4>
          <div style="background: white; padding: 12px; border-radius: 8px; border: 1px solid #bae6fd;">
            <div style="color: #64748b; font-size: 12px; font-weight: 500; text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 4px;">Correo electr√≥nico</div>
            <div id="pv-email" style="font-weight: 600; color: #0f172a; font-size: 16px;"></div>
          </div>
        </div>

        <!-- Informaci√≥n de estancia -->
        <div style="background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%); border-radius: 12px; padding: 20px; margin-bottom: 20px; border: 1px solid #bbf7d0;">
          <h4 style="margin: 0 0 16px; color: #166534; font-size: 16px; font-weight: 600; display: flex; align-items: center; gap: 8px;">
            üè® Informaci√≥n de Estancia
          </h4>
          <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 16px;">
            <div style="background: white; padding: 12px; border-radius: 8px; border: 1px solid #bbf7d0;">
              <div style="color: #64748b; font-size: 12px; font-weight: 500; text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 4px;">Fecha de entrada</div>
              <div id="pv-arrival" style="font-weight: 600; color: #0f172a; font-size: 16px;"></div>
            </div>
            <div style="background: white; padding: 12px; border-radius: 8px; border: 1px solid #bbf7d0;">
              <div style="color: #64748b; font-size: 12px; font-weight: 500; text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 4px;">Fecha de salida</div>
              <div id="pv-departure" style="font-weight: 600; color: #0f172a; font-size: 16px;"></div>
            </div>
            <div style="background: white; padding: 12px; border-radius: 8px; border: 1px solid #bbf7d0;">
              <div style="color: #64748b; font-size: 12px; font-weight: 500; text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 4px;">Idioma del formulario</div>
              <div id="pv-lang" style="font-weight: 600; color: #0f172a; font-size: 16px;"></div>
            </div>
          </div>
        </div>

        <!-- Nota informativa -->
        <div style="background: #fef3c7; border: 1px solid #f59e0b; border-radius: 8px; padding: 16px; text-align: center;">
          <div style="color: #92400e; font-size: 14px; font-weight: 500;">
            <strong>‚ÑπÔ∏è Nota:</strong> Esta es una previsualizaci√≥n con datos de ejemplo. En producci√≥n se generar√° el documento oficial conforme a la normativa del Ministerio del Interior.
          </div>
        </div>
      </div>
    </div>
  </div>

  <style>
    @keyframes slideIn {
      from {
        opacity: 0;
        transform: scale(0.9) translateY(-20px);
      }
      to {
        opacity: 1;
        transform: scale(1) translateY(0);
      }
    }
  </style>


    <footer>
      <div class="container">
        <div class="footer-content" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 20px;">
          <div>
            <h4 style="margin: 0 0 10px; color: var(--text);">Delf√≠n Check‚Äëin</h4>
            <p style="margin: 0; color: var(--muted); font-size: 14px;">Software de gesti√≥n hotelera y auto check‚Äëin para hostales y apartamentos.</p>
          </div>
          <div>
            <h4 style="margin: 0 0 10px; color: var(--text);">Contacto</h4>
            <p style="margin: 0; color: var(--muted); font-size: 14px;">
              üìß contacto@delfincheckin.com<br>
              üïí Lun-Dom: 9:00-22:00
            </p>
          </div>
          <div>
            <h4 style="margin: 0 0 10px; color: var(--text);">Legal</h4>
            <p style="margin: 0; color: var(--muted); font-size: 14px;">
              <a href="politica-privacidad.html" style="color: var(--brand);">Pol√≠tica de Privacidad</a><br>
              <a href="politica-cookies.html" style="color: var(--brand);">Pol√≠tica de Cookies</a><br>
              <a href="terminos-servicio.html" style="color: var(--brand);">T√©rminos de Servicio</a><br>
              <a href="aviso-legal.html" style="color: var(--brand);">Aviso Legal</a><br>
              <button id="manageCookies" style="background: none; border: none; color: var(--brand); cursor: pointer; text-decoration: underline; padding: 0; margin-top: 8px; font-size: 14px;">Gestionar Cookies</button>
            </p>
          </div>
        </div>
        <div style="border-top: 1px solid var(--border); padding-top: 15px; text-align: center; color: var(--muted);">
          ¬© <span id="year"></span> Delf√≠n Check‚Äëin ¬∑ <a href="#precio" style="color: var(--brand);">Ver precios</a>
        </div>
      </div>
    </footer>

  <!-- Modal de Pago Stripe -->
  <div id="paymentModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 2000; align-items: center; justify-content: center; overflow-y: auto; padding: 20px;">
    <div style="background: white; padding: 25px; border-radius: 12px; max-width: 500px; width: 95%; position: relative; margin: 20px 0; max-height: 90vh; overflow-y: auto;">
      <button id="closePayment" style="position: absolute; top: 15px; right: 15px; background: none; border: none; font-size: 24px; cursor: pointer;">√ó</button>
      <h3 style="margin: 0 0 20px; color: #1e40af; text-align: center;">üê¨ Contratar Delf√≠n Check-in</h3>
      
      <!-- Resumen del pedido -->
      <div id="paymentInfo" style="margin-bottom: 25px; padding: 20px; background: #f0f9ff; border-radius: 12px; border-left: 4px solid #2563eb;">
        <h4 style="margin: 0 0 15px; color: #1e40af;">Resumen del Pedido</h4>
        <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
          <span>Plan:</span>
          <span id="planName" style="font-weight: 600;"></span>
        </div>
        <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
          <span>Propiedades:</span>
          <span id="planProperties">-</span>
        </div>
        <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
          <span>Precio por propiedad:</span>
          <span id="planPrice">-</span>
        </div>
        <div style="border-top: 1px solid #e5e7eb; padding-top: 10px; margin-top: 10px; space-y: 4px;">
          <div style="display: flex; justify-content: space-between; margin-bottom: 6px;">
            <span>Base imponible:</span>
            <span id="basePrice" style="font-weight: 600;">-</span>
          </div>
          <div style="display: flex; justify-content: space-between; margin-bottom: 6px;">
            <span>IVA (21%):</span>
            <span id="ivaAmount" style="font-weight: 600;">-</span>
          </div>
          <div style="display: flex; justify-content: space-between; font-weight: 700; font-size: 18px; color: #1e40af; border-top: 2px solid #e5e7eb; padding-top: 10px; margin-top: 10px;">
            <span>Total:</span>
            <span id="totalPrice">-</span>
          </div>
        </div>
      </div>
      
      <form id="paymentForm">
        <!-- N√∫mero de propiedades -->
        <div style="margin-bottom: 20px;">
          <h4 style="margin: 0 0 12px; color: #374151; font-size: 16px;">Configuraci√≥n</h4>
          <div style="margin-bottom: 12px;">
            <label style="display: block; margin-bottom: 6px; font-weight: 600; font-size: 13px;">N√∫mero de propiedades <span style="color: #dc2626;">*</span></label>
            <input type="number" id="paymentProperties" min="1" value="1" style="width: 100%; height: 36px; border: 1px solid #d1d5db; border-radius: 6px; padding: 0 10px; font-size: 14px;">
          </div>
        </div>
        
        <!-- Datos del cliente -->
        <div style="margin-bottom: 20px;">
          <h4 style="margin: 0 0 12px; color: #374151; font-size: 16px;">Datos del Cliente</h4>
          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 12px;">
            <div>
              <label style="display: block; margin-bottom: 6px; font-weight: 600; font-size: 13px;">Nombre <span style="color: #dc2626;">*</span></label>
              <input type="text" id="paymentFirstName" placeholder="Nombre" required style="width: 100%; height: 36px; border: 1px solid #d1d5db; border-radius: 6px; padding: 0 10px; font-size: 14px;">
            </div>
            <div>
              <label style="display: block; margin-bottom: 6px; font-weight: 600; font-size: 13px;">Apellidos <span style="color: #dc2626;">*</span></label>
              <input type="text" id="paymentLastName" placeholder="Apellidos" required style="width: 100%; height: 36px; border: 1px solid #d1d5db; border-radius: 6px; padding: 0 10px; font-size: 14px;">
            </div>
          </div>
          
          <div style="margin-bottom: 12px;">
            <label style="display: block; margin-bottom: 6px; font-weight: 600; font-size: 13px;">Email <span style="color: #dc2626;">*</span></label>
            <input type="email" id="paymentEmail" placeholder="tu@email.com" required style="width: 100%; height: 36px; border: 1px solid #d1d5db; border-radius: 6px; padding: 0 10px; font-size: 14px;">
          </div>
          
          <div style="margin-bottom: 12px;">
            <label style="display: block; margin-bottom: 6px; font-weight: 600; font-size: 13px;">Empresa/Alojamiento <span style="color: #dc2626;">*</span></label>
            <input type="text" id="paymentCompany" placeholder="Nombre de tu negocio" required style="width: 100%; height: 36px; border: 1px solid #d1d5db; border-radius: 6px; padding: 0 10px; font-size: 14px;">
          </div>
          
          <div style="margin-bottom: 12px;">
            <label style="display: block; margin-bottom: 6px; font-weight: 600; font-size: 13px;">Direcci√≥n <span style="color: #dc2626;">*</span></label>
            <input type="text" id="paymentAddress" placeholder="Direcci√≥n completa" required style="width: 100%; height: 36px; border: 1px solid #d1d5db; border-radius: 6px; padding: 0 10px; font-size: 14px;">
          </div>
          
          <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 12px; margin-bottom: 12px;">
            <div>
              <label style="display: block; margin-bottom: 6px; font-weight: 600; font-size: 13px;">Ciudad <span style="color: #dc2626;">*</span></label>
              <input type="text" id="paymentCity" placeholder="Ciudad" required style="width: 100%; height: 36px; border: 1px solid #d1d5db; border-radius: 6px; padding: 0 10px; font-size: 14px;">
            </div>
            <div>
              <label style="display: block; margin-bottom: 6px; font-weight: 600; font-size: 13px;">C√≥digo Postal <span style="color: #dc2626;">*</span></label>
              <input type="text" id="paymentPostalCode" placeholder="CP" required style="width: 100%; height: 36px; border: 1px solid #d1d5db; border-radius: 6px; padding: 0 10px; font-size: 14px;">
            </div>
            <div>
              <label style="display: block; margin-bottom: 6px; font-weight: 600; font-size: 13px;">Pa√≠s <span style="color: #dc2626;">*</span></label>
              <select id="paymentCountry" required style="width: 100%; height: 36px; border: 1px solid #d1d5db; border-radius: 6px; padding: 0 10px; font-size: 14px;">
                <option value="">Seleccionar</option>
                <option value="ES" selected>Espa√±a</option>
                <option value="FR">Francia</option>
                <option value="IT">Italia</option>
                <option value="PT">Portugal</option>
                <option value="DE">Alemania</option>
                <option value="GB">Reino Unido</option>
                <option value="US">Estados Unidos</option>
              </select>
            </div>
          </div>
        </div>
        
        <!-- Informaci√≥n de pago -->
        <div style="margin-bottom: 20px;">
          <h4 style="margin: 0 0 12px; color: #374151; font-size: 16px;">Informaci√≥n de Pago</h4>
          <div id="cardElement" style="margin-bottom: 15px; padding: 12px; border: 1px solid #d1d5db; border-radius: 8px; background: white;">
            <!-- Stripe Elements se insertar√° aqu√≠ -->
          </div>
          <div id="cardErrors" style="color: #dc2626; margin-bottom: 15px; font-size: 14px;"></div>
        </div>
        
        <!-- T√©rminos y Condiciones -->
        <div style="margin-bottom: 20px; padding: 15px; background: #f8fafc; border-radius: 8px; border: 1px solid #e2e8f0;">
          <div style="display: flex; align-items: flex-start; gap: 10px; margin-bottom: 10px;">
            <input type="checkbox" id="termsAccepted" style="margin-top: 3px; width: 16px; height: 16px;" required>
            <label for="termsAccepted" style="font-size: 13px; line-height: 1.4; color: #374151; cursor: pointer;">
              ‚òê Declaro haber le√≠do y aceptado los T√©rminos y Condiciones, la Pol√≠tica de Privacidad y los Supuestos de Uso del servicio Delf√≠n Check-in, y consiento el tratamiento de mis datos conforme a lo dispuesto en la normativa vigente de protecci√≥n de datos.
            </label>
          </div>
          
          <!-- Bot√≥n para mostrar/ocultar t√©rminos detallados -->
          <button type="button" id="toggleTerms" style="background: none; border: none; color: #2563eb; font-size: 12px; text-decoration: underline; cursor: pointer; padding: 0; margin-bottom: 10px;">
            Ver t√©rminos detallados
          </button>
          
          <!-- T√©rminos detallados desplegables -->
          <div id="detailedTerms" style="display: none; background: white; border: 1px solid #d1d5db; border-radius: 6px; padding: 15px; font-size: 12px; line-height: 1.5; color: #374151;">
            <p style="font-weight: 600; margin: 0 0 10px 0;">Al aceptar, confirmo que:</p>
            
            <div style="margin-bottom: 15px;">
              <p style="margin: 0 0 8px 0;">‚Ä¢ Comprendo que Delf√≠n Check-in es una herramienta de gesti√≥n que facilita la creaci√≥n, almacenamiento y exportaci√≥n de ficheros de registro de viajeros conforme al Real Decreto 933/2021, pero que no realiza el env√≠o autom√°tico al MIR ni sustituye las obligaciones legales del titular del alojamiento.</p>
              
              <p style="margin: 0 0 8px 0;">‚Ä¢ Soy responsable de la veracidad, exactitud y conservaci√≥n de los datos introducidos en los formularios de registro.</p>
              
              <p style="margin: 0 0 8px 0;">‚Ä¢ Entiendo que la IA y las funciones disponibles (por ejemplo, chatbot en Telegram o WhatsApp) act√∫an como asistencia complementaria y no como servicio oficial de verificaci√≥n, firma o presentaci√≥n telem√°tica ante las autoridades.</p>
              
              <p style="margin: 0 0 8px 0;">‚Ä¢ Acepto que los datos procesados se almacenar√°n de forma segura durante el tiempo necesario para cumplir con las finalidades del servicio y la normativa aplicable.</p>
              
              <p style="margin: 0 0 8px 0;">‚Ä¢ Reconozco que el servicio requiere una suscripci√≥n activa (mensual o anual), cuyo pago otorga acceso al software y sus funcionalidades, sin implicar custodia ni certificaci√≥n oficial de registros.</p>
              
              <p style="margin: 0 0 8px 0;">‚Ä¢ Comprendo que pueden producirse interrupciones temporales por mantenimiento, actualizaciones o causas t√©cnicas ajenas a la plataforma, y que estas no dar√°n lugar a compensaciones salvo en casos de incidencia prolongada.</p>
              
              <p style="margin: 0 0 8px 0;">‚Ä¢ Acepto que los precios, condiciones y funcionalidades del servicio podr√°n actualizarse, comunic√°ndose siempre por medios electr√≥nicos con antelaci√≥n razonable.</p>
              
              <p style="margin: 0 0 8px 0;">‚Ä¢ He revisado las pol√≠ticas aplicables en <a href="terminos-servicio.html" target="_blank" style="color: #2563eb; text-decoration: underline;">T√©rminos de Servicio</a> y <a href="politica-privacidad.html" target="_blank" style="color: #2563eb; text-decoration: underline;">Pol√≠tica de Privacidad</a> y las acepto expresamente antes de realizar el pago.</p>
            </div>

            <p style="font-weight: 600; margin: 0; border-top: 1px solid #e5e7eb; padding-top: 10px;">Al continuar, confirmo mi conformidad y doy consentimiento informado para la prestaci√≥n del servicio.</p>
          </div>
        </div>
        
        <!-- Informaci√≥n sobre onboarding -->
        <div style="margin-bottom: 20px; padding: 15px; background: #f0f9ff; border-radius: 8px; border-left: 4px solid #2563eb;">
          <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 8px;">
            <span style="font-size: 20px;">üìß</span>
            <h4 style="margin: 0; color: #1e40af; font-size: 16px; font-weight: 600;">¬øQu√© pasa despu√©s?</h4>
          </div>
          <p style="margin: 0; font-size: 14px; color: #374151; line-height: 1.5;">
            Recibir√°s un <strong>email de onboarding</strong> con una <strong>contrase√±a temporal</strong> para acceder a tu panel de administraci√≥n en <strong>admin.delfincheckin.com</strong>. 
            <br><br>
            <strong>‚ö†Ô∏è Importante:</strong> Deber√°s cambiar la contrase√±a temporal nada m√°s entrar por primera vez por seguridad.
          </p>
        </div>
        
        <button type="submit" id="submitPayment" style="width: 100%; height: 50px; background: #2563eb; color: white; border: none; border-radius: 8px; font-size: 16px; font-weight: 600; cursor: pointer;" disabled>
          <span id="buttonText">üí≥ Contratar</span>
          <span id="spinner" style="display: none;">‚è≥ Procesando...</span>
        </button>
        
        <div style="margin-top: 15px; text-align: center; font-size: 12px; color: #64748b;">
          üîí Pago 100% seguro procesado por Stripe
        </div>
      </form>
    </div>
  </div>

  <!-- Cookies Banner -->
  <div id="cookiesBanner" class="cookies-banner">
    <div class="cookies-content">
      <div class="cookies-text">
        üç™ <strong>Utilizamos cookies</strong> para mejorar tu experiencia, analizar el tr√°fico y personalizar contenido. 
        <a href="politica-privacidad.html" style="color: var(--brand); text-decoration: underline;">Pol√≠tica de Cookies</a> | 
        <a href="politica-privacidad.html" style="color: var(--brand); text-decoration: underline;">Privacidad</a>
      </div>
      <div class="cookies-actions">
        <button class="btn" id="cookiesReject">Solo necesarias</button>
        <button class="btn" id="cookiesCustomize">Personalizar</button>
        <button class="btn primary" id="cookiesAccept">Aceptar todas</button>
      </div>
    </div>
  </div>

  <!-- Stripe.js -->
  <script src="https://js.stripe.com/v3/"></script>
  
  <script>
    document.getElementById('year').textContent = new Date().getFullYear();
    const $ = (s) => document.querySelector(s);
    const mapLang = { es:'Espa√±ol', en:'English', fr:'Fran√ßais', de:'Deutsch', it:'Italiano' };
    
    // Inicializar Stripe con clave de prueba
    const stripe = Stripe('pk_test_51RGg0AGayGuUgznn7Prw8EXPA5m5hYQb0aQrvw5Zv4RC9RYQQTJ1wExhoBjPOta67uXD0A9o8Jeu8PHbfVriyb0f008zMneaNb');
    const openModal = () => { $('#previewModal').style.display = 'flex'; document.body.style.overflow='hidden'; };
    const closeModal = () => { $('#previewModal').style.display = 'none'; document.body.style.overflow=''; };
    $('#previewClose').addEventListener('click', closeModal);
    // Funci√≥n mejorada para previsualizaci√≥n de ficha
    function generatePreviewData() {
      const rnd = (min,max) => Math.floor(Math.random()*(max-min+1))+min;
      const today = new Date();
      
      function randDateTime(offsetMin=0, offsetMax=2){
        const d = new Date(today);
        d.setDate(d.getDate() + rnd(offsetMin, offsetMax));
        d.setHours(rnd(12,22), [0,15,30,45][rnd(0,3)], 0, 0);
        return d.toISOString().slice(0,16);
      }
      
      const firstNames = ['Daniel','Luc√≠a','Rafael','Andrea','Miguel','Sof√≠a','Carlos','Elena','Mar√≠a','Jos√©','Ana','Antonio','Carmen','Francisco','Isabel','Manuel'];
      const lastNames = ['G√≥mez','L√≥pez','Mart√≠nez','Ibar','Jim√©nez','Lara','P√©rez','Santos','Garc√≠a','Rodr√≠guez','Fern√°ndez','Gonz√°lez','Ruiz','D√≠az','Hern√°ndez','Moreno'];
      const nationalities = ['Espa√±ola','Francesa','Italiana','Alemana','Brit√°nica','Portuguesa','Holandesa','Belga','Sueca','Noruega','Danesa','Austriaca'];
      const docTypes = ['DNI','NIE','Pasaporte'];
      const docNumbers = ['12345678A','X1234567L','AB1234567','87654321Z','Y9876543M','CD9876543'];
      const emailDomains = ['gmail.com','hotmail.com','yahoo.es','outlook.com','icloud.com'];
      
      const firstName = firstNames[rnd(0, firstNames.length-1)];
      const lastName = lastNames[rnd(0, lastNames.length-1)];
      const fullName = `${firstName} ${lastName}`;
      const docType = docTypes[rnd(0, docTypes.length-1)];
      const docNumber = docNumbers[rnd(0, docNumbers.length-1)];
      const nationality = nationalities[rnd(0, nationalities.length-1)];
      const emailDomain = emailDomains[rnd(0, emailDomains.length-1)];
      
      // Generar fecha de nacimiento realista
      const birthYear = rnd(1950, 2005);
      const birthMonth = rnd(1, 12);
      const birthDay = rnd(1, 28);
      
      return {
        language: 'Espa√±ol',
        arrival: randDateTime(0, 1).replace('T', ' ').replace(/-/g, '/'),
        departure: randDateTime(2, 5).replace('T', ' ').replace(/-/g, '/'),
        name: fullName,
        document: `${docType}: ${docNumber}`,
        birth: `${birthDay.toString().padStart(2, '0')}/${birthMonth.toString().padStart(2, '0')}/${birthYear}`,
        nationality: nationality,
        email: `${firstName.toLowerCase()}.${lastName.toLowerCase()}${rnd(1, 99)}@${emailDomain}`
      };
    }

    $('#previewBtn').addEventListener('click', () => {
      // Generar datos aleatorios cada vez
      const data = generatePreviewData();
      
      // Actualizar el modal con los datos
      $('#pv-lang').textContent = data.language;
      $('#pv-arrival').textContent = data.arrival;
      $('#pv-departure').textContent = data.departure;
      $('#pv-name').textContent = data.name;
      $('#pv-doc').textContent = data.document;
      $('#pv-birth').textContent = data.birth;
      $('#pv-nation').textContent = data.nationality;
      $('#pv-email').textContent = data.email;
      
      // Mostrar el modal
      openModal();
    });


    // Generar y descargar CSV con datos de reservas
    function generateReservationsCSV(){
      const firstNames = ['Daniel','Luc√≠a','Rafael','Andrea','Miguel','Sof√≠a','Carlos','Elena','Mar√≠a','Jos√©','Ana','Luis'];
      const lastNames  = ['G√≥mez','L√≥pez','Mart√≠nez','Ibar','Jim√©nez','Lara','P√©rez','Santos','Garc√≠a','Rodr√≠guez','Fern√°ndez','Gonz√°lez'];
      const channels = ['Booking','Airbnb','Expedia','Vrbo','Manual'];
      const states = ['Confirmada','Pendiente','Cancelada'];
      const categories = ['Individual','Doble','Triple','Suite'];
      
      const rnd = (min,max) => Math.floor(Math.random()*(max-min+1))+min;
      const pad2 = n => String(n).padStart(2,'0');
      const today = new Date();
      
      function randDate(offsetMin=0, offsetMax=30){
        const d = new Date(today);
        d.setDate(d.getDate() + rnd(offsetMin, offsetMax));
        return `${d.getDate()}/${d.getMonth()+1}/${d.getFullYear()}`;
      }
      
      function randDateTime(offsetMin=0, offsetMax=30){
        const d = new Date(today);
        d.setDate(d.getDate() + rnd(offsetMin, offsetMax));
        d.setHours(rnd(12,22), [0,15,30,45][rnd(0,3)], 0, 0);
        return d.toISOString().slice(0,16).replace('T',' ').replace(/-/g,'/');
      }
      
      const currency = v => v.toLocaleString('es-ES', { style:'currency', currency:'EUR' });
      
      // Generar 15-25 reservas aleatorias
      const numReservations = rnd(15, 25);
      const reservations = Array.from({length: numReservations}).map((_,i) => {
        const roomNum = rnd(1, 20);
        const category = categories[rnd(0, categories.length-1)];
        const guest = `${firstNames[rnd(0, firstNames.length-1)]} ${lastNames[rnd(0, lastNames.length-1)]}`;
        const arrival = randDateTime(0, 30);
        const departure = randDateTime(31, 60);
        const state = states[rnd(0, states.length-1)];
        const channel = channels[rnd(0, channels.length-1)];
        const paid = state === 'Cancelada' ? 0 : rnd(40, 200);
        const commission = paid > 0 ? +(paid * (channel === 'Manual' ? 0 : 0.15)).toFixed(2) : 0;
        const netGain = +(paid - commission).toFixed(2);
        const phone = `+34 6${rnd(10,99)} ${pad2(rnd(10,99))} ${pad2(rnd(10,99))}`;
        const email = `${guest.split(' ')[0].toLowerCase()}${rnd(1,99)}@mail.com`;
        
        return {
          habitacion: `Habitaci√≥n ${roomNum} ¬∑ ${category}`,
          huesped: guest,
          llegada: arrival,
          salida: departure,
          estado: state,
          pagoHuesped: currency(paid),
          comision: currency(commission),
          gananciaNeta: currency(netGain),
          canal: channel,
          telefono: phone,
          email: email
        };
      });
      
      // Crear CSV
      const headers = ['Habitaci√≥n','Hu√©sped','Llegada','Salida','Estado','Pag√≥ Hu√©sped','Comisi√≥n','Ganancia Neta','Canal','Tel√©fono','Email'];
      const csvContent = [
        headers.join(','),
        ...reservations.map(r => [
          `"${r.habitacion}"`,
          `"${r.huesped}"`,
          `"${r.llegada}"`,
          `"${r.salida}"`,
          `"${r.estado}"`,
          `"${r.pagoHuesped}"`,
          `"${r.comision}"`,
          `"${r.gananciaNeta}"`,
          `"${r.canal}"`,
          `"${r.telefono}"`,
          `"${r.email}"`
        ].join(','))
      ].join('\n');
      
      // Descargar archivo
      const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
      const link = document.createElement('a');
      const url = URL.createObjectURL(blob);
      link.setAttribute('href', url);
      link.setAttribute('download', `reservas_delfin_checkin_${new Date().toISOString().slice(0,10)}.csv`);
      link.style.visibility = 'hidden';
      document.body.appendChild(link);
      link.click();
      document.body.removeChild(link);
    }
    
    // Event listener para el bot√≥n de descarga con loading
    $('#downloadCsvBtn').addEventListener('click', (e) => {
      e.preventDefault();
      const btn = e.target;
      const originalText = btn.textContent;
      btn.innerHTML = '<span class="loading"></span> Generando CSV...';
      btn.disabled = true;
      
      setTimeout(() => {
        generateReservationsCSV();
        btn.textContent = originalText;
        btn.disabled = false;
      }, 1500);
    });

    // Datos aleatorios de KPIs (demo)
    (function fillKpis(){
      const rnd = (min,max) => Math.floor(Math.random()*(max-min+1))+min;
      const money = v => v.toLocaleString('es-ES', { style:'currency', currency:'EUR' });
      const rooms = rnd(4, 18);
      const guests= rnd(1, 12);
      const active= rnd(6, 26);
      const occ   = rnd(5, 98);
      const revenue = rnd(800, 4000) + Math.random();
      const fees    = revenue * 0.12;
      const profit  = revenue - fees;

      const set = (id, val) => { const el = document.getElementById(id); if (el) el.textContent = val; };
      set('kpi-rooms', String(rooms));
      set('kpi-guests', String(guests));
      set('kpi-active', String(active));
      set('kpi-occ', `${occ}%`);
      set('kpi-revenue', money(revenue));
      set('kpi-fees', money(fees));
      set('kpi-profit', money(profit));
    })();

    // Calculadora de precios por volumen
    function updateCalculator() {
      const properties = parseInt($('#calcProperties').value) || 1;
      const plan = $('#calcPlan').value;
      
      let pricePerProperty, total, savings, perPropertyText, savingsText, discount;
      
      // Calcular precio por propiedad seg√∫n volumen
      if (properties === 1) {
        pricePerProperty = 14.99;
        discount = 0;
      } else if (properties === 2 || properties === 3) {
        pricePerProperty = 13.49;
        discount = 10;
      } else if (properties === 4) {
        pricePerProperty = 12.74;
        discount = 15;
      } else if (properties >= 5 && properties <= 9) {
        pricePerProperty = 11.99;
        discount = 20;
      } else if (properties >= 10) {
        pricePerProperty = 11.24;
        discount = 25;
      } else {
        // Fallback para n√∫meros intermedios
        if (properties < 4) {
          pricePerProperty = 13.49;
          discount = 10;
        } else if (properties < 5) {
          pricePerProperty = 12.74;
          discount = 15;
        } else if (properties < 10) {
          pricePerProperty = 11.99;
          discount = 20;
        } else {
          pricePerProperty = 11.24;
          discount = 25;
        }
      }
      
      // Calcular totales
      const monthlyTotal = properties * pricePerProperty;
      const yearlyTotal = monthlyTotal * 12;
      const yearlyDiscount = yearlyTotal * 0.167; // 16.7% descuento anual
      const finalYearlyTotal = yearlyTotal - yearlyDiscount;
      
      // Calcular ahorros
      const regularMonthlyPrice = properties * 14.99;
      const regularYearlyPrice = regularMonthlyPrice * 12;
      const volumeSavings = regularYearlyPrice - yearlyTotal;
      const totalSavings = volumeSavings + yearlyDiscount;
      
      if (plan === 'monthly') {
        total = monthlyTotal;
        perPropertyText = `${pricePerProperty.toFixed(2)}‚Ç¨ por propiedad`;
        if (discount > 0) {
          savingsText = `${discount}% descuento por volumen`;
        } else {
          savingsText = 'Precio base';
        }
      } else if (plan === 'yearly') {
        total = finalYearlyTotal;
        perPropertyText = `${pricePerProperty.toFixed(2)}‚Ç¨ por propiedad`;
        savingsText = `Ahorras ${totalSavings.toFixed(2)}‚Ç¨ al a√±o`;
      }
      
      const periodText = plan === 'yearly' ? '/a√±o' : '/mes';
      
      // Calcular IVA
      const base = total;
      const iva = total * 0.21;
      const totalWithVat = total * 1.21;
        
      $('#calcTotal').textContent = `${totalWithVat.toFixed(2)}‚Ç¨${periodText}`;
      $('#calcPerProperty').textContent = perPropertyText;
      $('#calcBase').textContent = `${base.toFixed(2)}‚Ç¨`;
      $('#calcIVA').textContent = `${iva.toFixed(2)}‚Ç¨`;
      $('#calcSavings').textContent = savingsText;
      
      // Cambiar color seg√∫n ahorro
      if (totalSavings > 0 || discount > 0) {
        $('#calcSavings').style.color = '#16a34a';
        $('#calcSavings').style.background = 'rgba(22, 163, 74, 0.1)';
      } else {
        $('#calcSavings').style.color = '#64748b';
        $('#calcSavings').style.background = 'rgba(100, 116, 139, 0.1)';
      }
    }
    
    function openCalculator() {
      const properties = $('#calcProperties').value;
      const plan = $('#calcPlan').value;
      
      let planText, subject, body;
      planText = plan === 'monthly' ? 'mensual' : plan === 'yearly' ? 'anual' : 'volumen';
      subject = `Consulta plan ${planText} - Delf√≠n Check-in`;
      body = `Hola,%0D%0A%0D%0AMe interesa el plan ${planText} de Delf√≠n Check-in para ${properties} ${properties == 1 ? 'propiedad' : 'propiedades'}.%0D%0A%0D%0A¬øPodr√≠an darme m√°s informaci√≥n sobre:%0D%0A- Precios y planes disponibles%0D%0A- Funcionalidades incluidas%0D%0A- Proceso de implementaci√≥n%0D%0A%0D%0AGracias.`;
      
      const mailto = `mailto:contacto@delfincheckin.com?subject=${encodeURIComponent(subject)}&body=${body}`;
      window.location.href = mailto;
    }

    // Variables para el mantenimiento de pulsaci√≥n
    let incrementInterval = null;
    let decrementInterval = null;
    let isIncrementing = false;
    let isDecrementing = false;

    // Funciones para los botones de incremento/decremento
    function incrementProperties() {
      const input = $('#calcProperties');
      const currentValue = parseInt(input.value) || 1;
      const maxValue = parseInt(input.getAttribute('max')) || 50;
      
      if (currentValue < maxValue) {
        input.value = currentValue + 1;
        updateCalculator();
        
        // Efecto visual de pulsaci√≥n
        input.style.transform = 'scale(0.98)';
        setTimeout(() => {
          input.style.transform = 'scale(1)';
        }, 100);
      }
    }
    
    // Funci√≥n para click simple (solo un incremento)
    function singleIncrement() {
      incrementProperties();
    }

    function decrementProperties() {
      const input = $('#calcProperties');
      const currentValue = parseInt(input.value) || 1;
      const minValue = parseInt(input.getAttribute('min')) || 1;
      
      if (currentValue > minValue) {
        input.value = currentValue - 1;
        updateCalculator();
        
        // Efecto visual de pulsaci√≥n
        input.style.transform = 'scale(0.98)';
        setTimeout(() => {
          input.style.transform = 'scale(1)';
        }, 100);
      }
    }
    
    // Funci√≥n para click simple (solo un decremento)
    function singleDecrement() {
      decrementProperties();
    }

    // Variables para crecimiento exponencial
    let incrementSpeed = 500; // Velocidad inicial
    let incrementCount = 0; // Contador de incrementos
    
    // Funciones para mantener pulsado
    function startIncrement() {
      if (isIncrementing) return;
      isIncrementing = true;
      incrementCount = 0;
      incrementSpeed = 300; // Resetear velocidad
      
      // Efecto visual en el bot√≥n
      const btn = $('#incrementBtn');
      btn.style.background = '#1d4ed8';
      btn.style.transform = 'scale(0.95)';
      
      // NO hacer incremento inmediato, solo empezar el timer
      
      // Funci√≥n recursiva con crecimiento exponencial
      function doIncrement() {
        if (!isIncrementing) return;
        
        const input = $('#calcProperties');
        const currentValue = parseInt(input.value) || 1;
        const maxValue = parseInt(input.getAttribute('max')) || 50;
        
        if (currentValue < maxValue) {
          incrementProperties();
          incrementCount++;
          
          // Reducir velocidad exponencialmente (m√≠nimo 20ms)
          // Empieza lento y acelera gradualmente
          incrementSpeed = Math.max(20, 500 - (incrementCount * 30));
          
          // Programar siguiente incremento
          incrementInterval = setTimeout(doIncrement, incrementSpeed);
        } else {
          stopIncrement();
        }
      }
      
      // Empezar la secuencia con delay inicial m√°s corto
      incrementInterval = setTimeout(doIncrement, 300);
    }

    function stopIncrement() {
      isIncrementing = false;
      if (incrementInterval) {
        clearTimeout(incrementInterval);
        incrementInterval = null;
      }
      
      // Restaurar efecto visual del bot√≥n
      const btn = $('#incrementBtn');
      btn.style.background = '#2563eb';
      btn.style.transform = 'scale(1)';
    }

    // Variables para decremento exponencial
    let decrementSpeed = 500; // Velocidad inicial
    let decrementCount = 0; // Contador de decrementos
    
    function startDecrement() {
      if (isDecrementing) return;
      isDecrementing = true;
      decrementCount = 0;
      decrementSpeed = 300; // Resetear velocidad
      
      // Efecto visual en el bot√≥n
      const btn = $('#decrementBtn');
      btn.style.background = '#1d4ed8';
      btn.style.transform = 'scale(0.95)';
      
      // NO hacer decremento inmediato, solo empezar el timer
      
      // Funci√≥n recursiva con crecimiento exponencial
      function doDecrement() {
        if (!isDecrementing) return;
        
        const input = $('#calcProperties');
        const currentValue = parseInt(input.value) || 1;
        const minValue = parseInt(input.getAttribute('min')) || 1;
        
        if (currentValue > minValue) {
          decrementProperties();
          decrementCount++;
          
          // Reducir velocidad exponencialmente (m√≠nimo 20ms)
          // Empieza lento y acelera gradualmente
          decrementSpeed = Math.max(20, 500 - (decrementCount * 30));
          
          // Programar siguiente decremento
          decrementInterval = setTimeout(doDecrement, decrementSpeed);
        } else {
          stopDecrement();
        }
      }
      
      // Empezar la secuencia con delay inicial m√°s corto
      decrementInterval = setTimeout(doDecrement, 300);
    }

    function stopDecrement() {
      isDecrementing = false;
      if (decrementInterval) {
        clearTimeout(decrementInterval);
        decrementInterval = null;
      }
      
      // Restaurar efecto visual del bot√≥n
      const btn = $('#decrementBtn');
      btn.style.background = '#2563eb';
      btn.style.transform = 'scale(1)';
    }
    
    // Event listeners para la calculadora
    $('#calcPlan').addEventListener('change', updateCalculator);
    
    // Soporte para teclas de flecha en el input de propiedades (aunque sea readonly)
    $('#calcProperties').addEventListener('keydown', function(e) {
      if (e.key === 'ArrowUp') {
        e.preventDefault();
        if (!isIncrementing) {
          startIncrement();
        }
      } else if (e.key === 'ArrowDown') {
        e.preventDefault();
        if (!isDecrementing) {
          startDecrement();
        }
      }
    });

    // Detener cuando se suelta la tecla
    $('#calcProperties').addEventListener('keyup', function(e) {
      if (e.key === 'ArrowUp') {
        stopIncrement();
      } else if (e.key === 'ArrowDown') {
        stopDecrement();
      }
    });

    // Detener todos los intervalos cuando se pierde el foco
    $('#calcProperties').addEventListener('blur', function() {
      stopIncrement();
      stopDecrement();
    });
    
    // ===== SOPORTE PARA M√ìVILES (TOUCH EVENTS) =====
    
    // Funci√≥n para detectar si es un dispositivo t√°ctil
    function isTouchDevice() {
      return 'ontouchstart' in window || 
             navigator.maxTouchPoints > 0 || 
             window.matchMedia('(pointer: coarse)').matches;
    }
    
    // Event listeners para touch en m√≥viles
    if (isTouchDevice()) {
      // Funci√≥n para a√±adir feedback visual t√°ctil
      function addTouchFeedback(button) {
        button.style.transform = 'scale(0.9)';
        button.style.background = '#1d4ed8';
        button.style.boxShadow = '0 0 0 3px rgba(37, 99, 235, 0.3)';
      }
      
      function removeTouchFeedback(button) {
        button.style.transform = 'scale(1)';
        button.style.background = '#2563eb';
        button.style.boxShadow = 'none';
      }
      
      // Bot√≥n de incremento - SOLO click simple
      $('#incrementBtn').addEventListener('touchstart', function(e) {
        e.preventDefault();
        addTouchFeedback(this);
      });
      
      $('#incrementBtn').addEventListener('touchend', function(e) {
        e.preventDefault();
        removeTouchFeedback(this);
        singleIncrement(); // Solo un incremento
      });
      
      $('#incrementBtn').addEventListener('touchcancel', function(e) {
        e.preventDefault();
        removeTouchFeedback(this);
      });
      
      // Bot√≥n de decremento - SOLO click simple
      $('#decrementBtn').addEventListener('touchstart', function(e) {
        e.preventDefault();
        addTouchFeedback(this);
      });
      
      $('#decrementBtn').addEventListener('touchend', function(e) {
        e.preventDefault();
        removeTouchFeedback(this);
        singleDecrement(); // Solo un decremento
      });
      
      $('#decrementBtn').addEventListener('touchcancel', function(e) {
        e.preventDefault();
        removeTouchFeedback(this);
      });
      
      // Prevenir zoom en doble tap
      let lastTouchEnd = 0;
      document.addEventListener('touchend', function(e) {
        const now = (new Date()).getTime();
        if (now - lastTouchEnd <= 300) {
          e.preventDefault();
        }
        lastTouchEnd = now;
      }, false);
      
      // Prevenir scroll cuando se toca la calculadora
      const calculatorContainer = document.querySelector('.calculator-grid');
      if (calculatorContainer) {
        calculatorContainer.addEventListener('touchstart', function(e) {
          e.stopPropagation();
        });
      }
    }
    
    // Inicializar calculadora
    updateCalculator();

    // Funci√≥n para abrir modal de pago desde la calculadora
    function openStripePaymentFromCalculator() {
      const properties = parseInt($('#calcProperties').value) || 1;
      const plan = $('#calcPlan').value;
      const planType = plan === 'monthly' ? 'monthly' : 'yearly';
      
      // Establecer valores en el modal antes de abrirlo
      const paymentPropertiesInput = $('#paymentProperties');
      if (paymentPropertiesInput) {
        paymentPropertiesInput.value = properties;
      }
      
      // Abrir el modal con el plan seleccionado
      openPaymentModal(planType);
    }
    
    // Hacer la funci√≥n global
    window.openStripePaymentFromCalculator = openStripePaymentFromCalculator;

    // Funci√≥n para manejar el bot√≥n "Email directo" en Opera GX
    function handleEmailDirecto(event) {
      const isOperaGX = navigator.userAgent.includes('OPR') || navigator.userAgent.includes('Opera');
      
      if (isOperaGX) {
        event.preventDefault();
        const mailtoUrl = 'mailto:contacto@delfincheckin.com?subject=Consulta%20Delfin%20Check-in';
        const newWindow = window.open(mailtoUrl, '_blank');
        
        if (!newWindow) {
          // Si se bloquea, mostrar modal alternativo
          const modal = document.createElement('div');
          modal.style.cssText = `
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
            background: rgba(0,0,0,0.8); z-index: 10000; display: flex; 
            align-items: center; justify-content: center; font-family: Arial, sans-serif;
          `;
          
          modal.innerHTML = `
            <div style="background: white; padding: 30px; border-radius: 15px; max-width: 400px; width: 90%; text-align: center;">
              <h3 style="color: #2563eb; margin-bottom: 20px;">üìß Tu navegador bloquea el env√≠o autom√°tico</h3>
              <p style="margin-bottom: 15px;">Copia este email y env√≠alo manualmente:</p>
              <div style="background: #f8fafc; padding: 15px; border-radius: 8px; margin: 15px 0; border: 2px solid #e2e8f0;">
                <strong style="color: #2563eb; font-size: 18px;">contacto@delfincheckin.com</strong>
              </div>
              <p style="margin-bottom: 15px;">Asunto: <strong>Consulta Delfin Check-in</strong></p>
              <div style="margin-top: 20px;">
                <button onclick="this.parentElement.parentElement.parentElement.remove();" style="background: #2563eb; color: white; border: none; padding: 12px 24px; border-radius: 8px; cursor: pointer; font-weight: 600;">
                  ‚úÖ Entendido, he copiado el email
                </button>
              </div>
            </div>
          `;
          
          document.body.appendChild(modal);
        }
      }
    }
    
    // Hacer la funci√≥n global
    window.handleEmailDirecto = handleEmailDirecto;

    // Formulario de Contacto
    $('#sendContact').addEventListener('click', (e) => {
      e.preventDefault();
      
      const name = $('#contactName').value.trim();
      const email = $('#contactEmail').value.trim();
      const phone = $('#contactPhone').value.trim();
      const business = $('#contactBusiness').value.trim();
      const message = $('#contactMessage').value.trim();
      
      // Validar campos obligatorios
      if (!name || !email || !message) {
        alert('Por favor, completa los campos obligatorios (Nombre, Email y Mensaje).');
        return;
      }
      
      // Validar formato de email
      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      if (!emailRegex.test(email)) {
        alert('Por favor, introduce un email v√°lido.');
        return;
      }
      
      // Crear mensaje para email
      const subject = `Nueva consulta desde la web - ${name}`;
      const emailBody = `Nueva consulta desde la web:

Nombre: ${name}
Email: ${email}
Tel√©fono: ${phone || 'No proporcionado'}
Empresa: ${business || 'No proporcionada'}

Mensaje:
${message}`;
      
      // Crear enlace mailto
      const mailtoUrl = `mailto:contacto@delfincheckin.com?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(emailBody)}`;
      
      // Detectar si es Opera GX u otro navegador que puede bloquear mailto
      const isOperaGX = navigator.userAgent.includes('OPR') || navigator.userAgent.includes('Opera');
      
      // Abrir cliente de email
      try {
        // Para Opera GX, usar window.open en lugar de window.location.href
        if (isOperaGX) {
          const newWindow = window.open(mailtoUrl, '_blank');
          if (!newWindow) {
            // Si se bloquea, mostrar alternativa
            showEmailAlternative(subject, emailBody);
            return;
          }
        } else {
          window.location.href = mailtoUrl;
        }
        
        // Mostrar confirmaci√≥n despu√©s de un breve delay
        setTimeout(() => {
          alert('¬°Redirigiendo a tu cliente de email! Completa el env√≠o desde all√≠.');
        }, 100);
        
        // Limpiar formulario
        $('#contactForm').reset();
      } catch (error) {
        console.error('Error al abrir cliente de email:', error);
        showEmailAlternative(subject, emailBody);
      }
      
      // Funci√≥n para mostrar alternativa cuando mailto falla
      function showEmailAlternative(subject, body) {
        const emailText = `contacto@delfincheckin.com`;
        const fullMessage = `Asunto: ${subject}\n\nMensaje:\n${body}`;
        
        const modal = document.createElement('div');
        modal.style.cssText = `
          position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
          background: rgba(0,0,0,0.8); z-index: 10000; display: flex; 
          align-items: center; justify-content: center; font-family: Arial, sans-serif;
        `;
        
        modal.innerHTML = `
          <div style="background: white; padding: 30px; border-radius: 15px; max-width: 500px; width: 90%; text-align: center;">
            <h3 style="color: #2563eb; margin-bottom: 20px;">üìß Tu navegador bloquea el env√≠o autom√°tico</h3>
            <p style="margin-bottom: 15px;">Copia este email y env√≠alo manualmente:</p>
            <div style="background: #f8fafc; padding: 15px; border-radius: 8px; margin: 15px 0; border: 2px solid #e2e8f0;">
              <strong style="color: #2563eb; font-size: 18px;">${emailText}</strong>
            </div>
            <p style="margin-bottom: 15px;">Y copia este mensaje:</p>
            <textarea readonly style="width: 100%; height: 200px; padding: 10px; border: 1px solid #d1d5db; border-radius: 8px; font-family: monospace; font-size: 12px; resize: vertical;">${fullMessage}</textarea>
            <div style="margin-top: 20px;">
              <button onclick="this.parentElement.parentElement.parentElement.remove(); $('#contactForm').reset();" style="background: #2563eb; color: white; border: none; padding: 12px 24px; border-radius: 8px; cursor: pointer; font-weight: 600;">
                ‚úÖ Entendido, he copiado la informaci√≥n
              </button>
            </div>
          </div>
        `;
        
        document.body.appendChild(modal);
      }
    });

    // Cookies Banner - RGPD Compliant
    (function initCookies(){
      const banner = $('#cookiesBanner');
      const acceptBtn = $('#cookiesAccept');
      const rejectBtn = $('#cookiesReject');
      const customizeBtn = $('#cookiesCustomize');
      
      // Mostrar banner si no hay consentimiento previo
      if (!localStorage.getItem('cookiesConsent')) {
        setTimeout(() => banner.classList.add('show'), 1000);
      }
      
      // Aceptar todas las cookies
      acceptBtn.addEventListener('click', () => {
        const consent = {
          necessary: true,
          analytics: true,
          marketing: true,
          timestamp: new Date().toISOString()
        };
        localStorage.setItem('cookiesConsent', JSON.stringify(consent));
        banner.classList.remove('show');
        console.log('Cookies aceptadas:', consent);
      });
      
      // Solo cookies necesarias
      rejectBtn.addEventListener('click', () => {
        const consent = {
          necessary: true,
          analytics: false,
          marketing: false,
          timestamp: new Date().toISOString()
        };
        localStorage.setItem('cookiesConsent', JSON.stringify(consent));
        banner.classList.remove('show');
        console.log('Solo cookies necesarias:', consent);
      });
      
      // Personalizar cookies (por ahora igual que rechazar)
      customizeBtn.addEventListener('click', () => {
        const consent = {
          necessary: true,
          analytics: false,
          marketing: false,
          timestamp: new Date().toISOString()
        };
        localStorage.setItem('cookiesConsent', JSON.stringify(consent));
        banner.classList.remove('show');
        console.log('Cookies personalizadas:', consent);
      });
    })();

    // Funci√≥n para verificar consentimiento de cookies
    function hasCookieConsent(type = 'analytics') {
      const consent = localStorage.getItem('cookiesConsent');
      if (!consent) return false;
      
      try {
        const parsed = JSON.parse(consent);
        return parsed[type] === true;
      } catch {
        return false;
      }
    }

    // Bot√≥n gestionar cookies
    $('#manageCookies').addEventListener('click', () => {
      const banner = $('#cookiesBanner');
      banner.classList.add('show');
    });

    // ===== NAVEGACI√ìN SUAVE =====
    function initSmoothNavigation() {
      // Navegaci√≥n suave para enlaces internos
      document.querySelectorAll('a[href^="#"]').forEach(link => {
        link.addEventListener('click', function(e) {
          e.preventDefault();
          const targetId = this.getAttribute('href').substring(1);
          const targetElement = document.getElementById(targetId);
          
          if (targetElement) {
            // Scroll suave con offset para el header
            const headerHeight = 80;
            const targetPosition = targetElement.offsetTop - headerHeight;
            
            window.scrollTo({
              top: targetPosition,
              behavior: 'smooth'
            });
            
            // A√±adir efecto visual al elemento de destino
            targetElement.style.transition = 'all 0.3s ease';
            targetElement.style.transform = 'scale(1.02)';
            targetElement.style.boxShadow = '0 0 20px rgba(37, 99, 235, 0.3)';
            
            setTimeout(() => {
              targetElement.style.transform = 'scale(1)';
              targetElement.style.boxShadow = '';
            }, 300);
          }
        });
      });
      
      // Resaltar secci√≥n activa en el scroll
      const sections = document.querySelectorAll('section[id]');
      const navLinks = document.querySelectorAll('a[href^="#"]');
      
      window.addEventListener('scroll', () => {
        let current = '';
        sections.forEach(section => {
          const sectionTop = section.offsetTop - 100;
          if (window.pageYOffset >= sectionTop) {
            current = section.getAttribute('id');
          }
        });
        
        navLinks.forEach(link => {
          link.classList.remove('active');
          if (link.getAttribute('href') === `#${current}`) {
            link.classList.add('active');
          }
        });
      });
    }

    // ===== SISTEMA DE PAGOS STRIPE =====
    let elements, cardElement, clientSecret;
    let currentPlan = 'monthly';

    // Inicializar Stripe Elements
    function initializeStripe() {
      elements = stripe.elements();
      cardElement = elements.create('card', {
        style: {
          base: {
            fontSize: '16px',
            color: '#424770',
            '::placeholder': {
              color: '#aab7c4',
            },
          },
        },
      });
      cardElement.mount('#cardElement');
      
      cardElement.on('change', ({error}) => {
        const displayError = $('#cardErrors');
        if (error) {
          displayError.textContent = error.message;
        } else {
          displayError.textContent = '';
        }
      });
    }


    // Cerrar modal de pago
    function closePaymentModal() {
      const modal = $('#paymentModal');
      modal.style.display = 'none';
      document.body.style.overflow = '';
      // Limpiar estado del pago al cerrar
      currentPaymentIntentId = null;
      isProcessingPayment = false;
      $('#cardErrors').textContent = '';
    }

    // Event listeners para el modal de pago
    $('#closePayment').addEventListener('click', closePaymentModal);
    $('#paymentModal').addEventListener('click', (e) => {
      if (e.target === $('#paymentModal')) {
        closePaymentModal();
      }
    });

    // Manejar env√≠o del formulario de pago
    let isProcessingPayment = false; // Prevenir m√∫ltiples confirmaciones
    
    $('#paymentForm').addEventListener('submit', async (e) => {
      e.preventDefault();
      
      // Prevenir m√∫ltiples env√≠os
      if (isProcessingPayment) {
        console.warn('‚ö†Ô∏è [LANDING] Pago ya en proceso, ignorando env√≠o duplicado');
        return;
      }
      
      const submitButton = $('#submitPayment');
      const buttonText = $('#buttonText');
      const spinner = $('#spinner');
      const properties = parseInt($('#paymentProperties').value) || 1;
      const email = $('#paymentEmail').value;
      const firstName = $('#paymentFirstName').value;
      const lastName = $('#paymentLastName').value;
      const name = `${firstName} ${lastName}`;
      
      if (!email || !firstName || !lastName) {
        alert('Por favor, completa todos los campos obligatorios.');
        return;
      }
      
      // Verificar que los t√©rminos est√©n aceptados
      if (!$('#termsAccepted').checked) {
        alert('Debes aceptar los t√©rminos y condiciones para continuar con el pago.');
        return;
      }
      
      // Verificar que el cardElement est√© montado
      if (!cardElement) {
        alert('Error: Los campos de tarjeta no est√°n listos. Por favor, recarga la p√°gina.');
        return;
      }
      
      // Mostrar spinner
      buttonText.style.display = 'none';
      spinner.style.display = 'inline';
      submitButton.disabled = true;
      isProcessingPayment = true;
      
      try {
        // Mapear plan de la landing page al planId que espera el backend
        const planId = currentPlan === 'yearly' ? 'basic_yearly' : 'basic';
        
        // Crear Payment Intent en el backend
        const response = await fetch('https://admin.delfincheckin.com/api/create-payment-intent', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify({
            planId: planId,
            properties: properties,
            email: email,
            name: name
          })
        });
        
        if (!response.ok) {
          // Intentar obtener el mensaje de error del servidor
          let errorMessage = 'Error al crear el pago';
          try {
            const errorData = await response.json();
            errorMessage = errorData.error || errorData.message || errorMessage;
            console.error('‚ùå [LANDING] Error del servidor:', errorData);
          } catch (e) {
            console.error('‚ùå [LANDING] No se pudo parsear el error del servidor:', e);
          }
          throw new Error(errorMessage);
        }
        
        const data = await response.json();
        const {client_secret, payment_intent_id, status} = data;
        
        if (!client_secret) {
          throw new Error('No se recibi√≥ client_secret del servidor');
        }
        
        // Extraer el payment intent ID del client_secret o usar el que viene del servidor
        const paymentIntentId = payment_intent_id || client_secret.split('_secret_')[0];
        currentPaymentIntentId = paymentIntentId;
        
        console.log('üí≥ [LANDING] Payment Intent recibido del servidor:', {
          paymentIntentId: paymentIntentId,
          status: status || 'unknown',
          clientSecretPrefix: client_secret.substring(0, 20) + '...',
          clientSecretLength: client_secret.length,
          hasPaymentIntentId: !!payment_intent_id
        });
        
        // Verificar que el payment intent est√© en un estado v√°lido para confirmar
        if (status && status !== 'requires_payment_method' && status !== 'requires_confirmation') {
          console.warn('‚ö†Ô∏è [LANDING] Payment Intent en estado inesperado:', status);
          throw new Error(`El payment intent est√° en estado: ${status}. Por favor, crea un nuevo pago.`);
        }
        
        // Crear Payment Method primero, luego confirmar el Payment Intent
        const {error: pmError, paymentMethod} = await stripe.createPaymentMethod({
          type: 'card',
          card: cardElement,
          billing_details: {
            name: name,
            email: email,
          },
        });
        
        if (pmError) {
          console.error('‚ùå [LANDING] Error creando Payment Method:', pmError);
          throw new Error(pmError.message);
        }
        
        console.log('‚úÖ [LANDING] Payment Method creado:', paymentMethod?.id);
        
        // Verificar que el client_secret sea v√°lido antes de confirmar
        if (!client_secret || !client_secret.includes('_secret_')) {
          throw new Error('El client_secret recibido no es v√°lido. Por favor, intenta crear un nuevo pago.');
        }
        
        // Para payment intents con automatic_payment_methods, podemos confirmar directamente
        // sin necesidad de actualizar el payment intent primero
        console.log('üí≥ [LANDING] Confirmando Payment Intent:', {
          paymentIntentId: paymentIntentId,
          paymentMethodId: paymentMethod?.id,
          clientSecretLength: client_secret.length
        });
        
        // Confirmar el Payment Intent directamente con el Payment Method
        const {error, paymentIntent} = await stripe.confirmCardPayment(client_secret, {
          payment_method: paymentMethod?.id,
        }).catch((confirmError) => {
          // Capturar errores de red o de Stripe
          console.error('‚ùå [LANDING] Error al confirmar Payment Intent:', confirmError);
          
          // Si es un error 404 o resource_missing, es que el payment intent ya fue procesado
          if ((confirmError && confirmError.message && confirmError.message.includes('404')) || 
              (confirmError && confirmError.message && confirmError.message.includes('No such payment_intent')) ||
              (confirmError && confirmError.code === 'resource_missing')) {
            return {
              error: {
                type: 'invalid_request_error',
                code: 'resource_missing',
                message: 'El pago ya fue procesado o expir√≥. Por favor, crea un nuevo pago.'
              },
              paymentIntent: null
            };
          }
          
          // Para otros errores, re-lanzar
          throw confirmError;
        });
        
        console.log('üí≥ [LANDING] Resultado de confirmaci√≥n:', {
          error: error?.message || null,
          errorType: error?.type || null,
          paymentIntentStatus: paymentIntent?.status || null,
          paymentIntentId: paymentIntent?.id || null
        });
        
        if (error) {
          // Manejar errores espec√≠ficos de Stripe
          let errorMessage = error.message;
          
          // Verificar si el payment intent ya fue procesado o no existe
          if (error.code === 'resource_missing' || 
              error.type === 'invalid_request_error' ||
              error.message?.includes('No such payment_intent') ||
              error.message?.includes('resource_missing')) {
            errorMessage = 'El pago ya fue procesado o expir√≥. Por favor, cierra este modal y crea un nuevo pago.';
            console.error('‚ùå [LANDING] Payment Intent no encontrado o ya procesado:', {
              errorCode: error.code,
              errorType: error.type,
              errorMessage: error.message,
              paymentIntentId: paymentIntentId
            });
            // Resetear el payment intent ID para forzar creaci√≥n de uno nuevo
            currentPaymentIntentId = null;
          } else if (error.type === 'card_error') {
            errorMessage = `Error en la tarjeta: ${error.message}`;
          } else if (error.type === 'validation_error') {
            errorMessage = `Error de validaci√≥n: ${error.message}`;
          } else if (error.message?.includes('404') || error.message?.includes('not found')) {
            errorMessage = 'El pago ya fue procesado o el servidor no pudo encontrar el pago. Por favor, intenta crear un nuevo pago.';
            currentPaymentIntentId = null;
          }
          
          $('#cardErrors').textContent = errorMessage;
          throw new Error(errorMessage);
        }
        
        if (paymentIntent) {
          console.log('‚úÖ [LANDING] Payment Intent confirmado:', {
            id: paymentIntent.id,
            status: paymentIntent.status,
            amount: paymentIntent.amount
          });
          
          // El pago puede estar en diferentes estados dependiendo del m√©todo de pago
          // Para tarjetas, normalmente ser√° 'succeeded' inmediatamente
          // Para m√©todos como SEPA, puede ser 'processing' o 'requires_action'
          // El pago puede estar en diferentes estados:
          // - 'succeeded': Pago completado exitosamente (webhook se disparar√°)
          // - 'processing': Pago en proceso (normal para algunos m√©todos de pago)
          // - 'requires_action': Requiere acci√≥n adicional (3D Secure, etc.)
          if (paymentIntent.status === 'succeeded' || paymentIntent.status === 'processing') {
            // Pago exitoso o en proceso - Redirigir a p√°gina de √©xito
            // El webhook se encargar√° de crear el tenant y enviar el email de onboarding
            console.log('‚úÖ Pago exitoso/en proceso, redirigiendo a p√°gina de confirmaci√≥n. Estado:', paymentIntent.status);
            window.location.href = 'success.html';
            return; // Salir antes del finally
          } else if (paymentIntent.status === 'requires_action') {
            // Requiere autenticaci√≥n adicional (3D Secure)
            console.log('‚ö†Ô∏è [LANDING] Pago requiere acci√≥n adicional (3D Secure)');
            // Stripe manejar√° esto autom√°ticamente, solo esperamos
            return;
          } else {
            console.warn('‚ö†Ô∏è [LANDING] Payment Intent en estado inesperado:', paymentIntent.status);
            throw new Error(`El pago est√° en estado: ${paymentIntent.status}. Por favor, contacta con soporte.`);
          }
        } else {
          throw new Error('No se recibi√≥ respuesta del servidor de pago.');
        }
        
      } catch (error) {
        console.error('‚ùå [LANDING] Error procesando pago:', error);
        
        let errorMessage = 'Error al procesar el pago. Por favor, int√©ntalo de nuevo.';
        
        if (error instanceof Error) {
          errorMessage = error.message;
          
          // Si el error indica que el payment intent no existe o ya fue procesado
          if (error.message.includes('404') || 
              error.message.includes('No such payment_intent') ||
              error.message.includes('ya fue procesado') ||
              error.message.includes('resource_missing')) {
            errorMessage = 'El pago ya fue procesado o expir√≥. Por favor, cierra este modal y crea un nuevo pago.';
            
            // Limpiar el payment intent actual para forzar crear uno nuevo
            currentPaymentIntentId = null;
            
            // Mostrar mensaje m√°s claro al usuario
            alert('‚ö†Ô∏è El pago anterior ya fue procesado. Por favor, cierra este modal y vuelve a intentar desde el principio.');
          }
        }
        
        $('#cardErrors').textContent = errorMessage;
        
        // Solo mostrar alert si no es un error de payment intent ya procesado
        if (!errorMessage.includes('ya fue procesado')) {
          alert(errorMessage);
        }
      } finally {
        // Ocultar spinner y re-habilitar bot√≥n
        buttonText.style.display = 'inline';
        spinner.style.display = 'none';
        submitButton.disabled = false;
        isProcessingPayment = false;
      }
    });

    // Manejar checkbox de t√©rminos y condiciones
    $('#termsAccepted').addEventListener('change', function() {
      const submitButton = $('#submitPayment');
      submitButton.disabled = !this.checked;
      
      if (this.checked) {
        submitButton.style.background = '#2563eb';
        submitButton.style.cursor = 'pointer';
      } else {
        submitButton.style.background = '#9ca3af';
        submitButton.style.cursor = 'not-allowed';
      }
    });

    // Manejar bot√≥n de t√©rminos desplegables
    $('#toggleTerms').addEventListener('click', function() {
      const detailedTerms = $('#detailedTerms');
      const isVisible = detailedTerms.style.display !== 'none';
      
      if (isVisible) {
        detailedTerms.style.display = 'none';
        this.textContent = 'Ver t√©rminos detallados';
      } else {
        detailedTerms.style.display = 'block';
        this.textContent = 'Ocultar t√©rminos detallados';
      }
    });

    // Actualizar precio cuando cambie el n√∫mero de propiedades
    $('#paymentProperties').addEventListener('input', () => {
      const properties = parseInt($('#paymentProperties').value) || 1;
      const planPrice = $('#planPrice');
      
      if (currentPlan === 'monthly') {
        planPrice.textContent = `${properties * 4}‚Ç¨ total (${properties} propiedades √ó 4‚Ç¨)`;
      } else if (currentPlan === 'yearly') {
        planPrice.textContent = `${properties * 40}‚Ç¨ total (${properties} propiedades √ó 40‚Ç¨)`;
      }
    });

    // Inicializar navegaci√≥n suave cuando el DOM est√© listo
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initSmoothNavigation);
    } else {
      initSmoothNavigation();
    }

    // ===== FUNCI√ìN PARA BOTONES DE VENTAS =====
    function initSalesButtons() {
      // Funci√≥n para abrir modal de contacto de ventas
      function openSalesContact(plan = '') {
        const modal = document.createElement('div');
        modal.style.cssText = `
          position: fixed; inset: 0; display: flex; align-items: center; justify-content: center;
          background: rgba(15,23,42,.6); z-index: 1000; backdrop-filter: blur(4px);
        `;
        
        modal.innerHTML = `
          <div style="width: min(500px, 95vw); background: white; border-radius: 16px; box-shadow: 0 25px 80px rgba(0,0,0,.4); overflow: hidden; animation: slideIn 0.3s ease-out;">
            <div style="background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%); color: white; padding: 20px 24px; display: flex; align-items: center; justify-content: space-between;">
              <div style="display: flex; align-items: center; gap: 12px;">
                <div style="font-size: 24px;">üí¨</div>
                <div>
                  <h3 style="margin: 0; font-size: 20px; font-weight: 700;">Hablar con Ventas</h3>
                  <p style="margin: 4px 0 0; font-size: 14px; opacity: 0.9;">Te ayudamos a elegir el mejor plan</p>
                </div>
              </div>
              <button onclick="this.closest('.sales-modal').remove()" style="background: rgba(255,255,255,0.2); color: white; border: 1px solid rgba(255,255,255,0.3); height: 40px; width: 40px; border-radius: 8px; cursor: pointer; display: flex; align-items: center; justify-content: center; font-size: 18px; font-weight: bold;">√ó</button>
            </div>
            <div style="padding: 24px;">
              <div style="margin-bottom: 20px;">
                <h4 style="margin: 0 0 12px; color: #1e40af; font-size: 16px;">Contacta con nosotros</h4>
                <p style="margin: 0; color: #64748b; font-size: 14px;">Te responderemos por email en menos de 24 horas.</p>
              </div>
              
              <div style="display: flex; justify-content: center; margin-bottom: 20px;">
                <button onclick="openEmailSales('${plan}')" style="background: #2563eb; color: white; border: none; padding: 16px 32px; border-radius: 12px; font-size: 16px; font-weight: 600; cursor: pointer; display: flex; align-items: center; gap: 12px; transition: all 0.2s ease;" onmouseover="this.style.background='#1d4ed8'; this.style.transform='translateY(-2px)'" onmouseout="this.style.background='#2563eb'; this.style.transform='translateY(0)'">
                  <div style="font-size: 20px;">üìß</div>
                  <div>
                    <div style="font-weight: 600;">Contactar por Email</div>
                    <div style="font-size: 12px; opacity: 0.9;">Respuesta en 24h</div>
                  </div>
                </button>
              </div>
              
              <div style="background: #f8fafc; border-radius: 8px; padding: 16px; text-align: center;">
                <div style="color: #64748b; font-size: 14px;">
                  <strong>üí° Consejo:</strong> Te responderemos por email en menos de 24 horas
                </div>
              </div>
            </div>
          </div>
        `;
        
        modal.className = 'sales-modal';
        document.body.appendChild(modal);
        document.body.style.overflow = 'hidden';
      }


      // Funci√≥n para abrir email de ventas
      function openEmailSales(plan) {
        const planText = plan ? ` - ${plan}` : '';
        const subject = `Consulta Delf√≠n Check-in${planText}`;
        const body = `Hola,%0D%0A%0D%0AMe interesa conocer m√°s sobre Delf√≠n Check-in${planText}.%0D%0A%0D%0A¬øPodr√≠an enviarme informaci√≥n sobre:%0D%0A- Precios y planes disponibles%0D%0A- Funcionalidades incluidas%0D%0A- Proceso de implementaci√≥n%0D%0A%0D%0AGracias.`;
        const mailto = `mailto:contacto@delfincheckin.com?subject=${encodeURIComponent(subject)}&body=${body}`;
        window.location.href = mailto;
        document.querySelector('.sales-modal')?.remove();
        document.body.style.overflow = '';
      }

      // Hacer las funciones globales
      window.openSalesContact = openSalesContact;
      window.openEmailSales = openEmailSales;

      // Reemplazar enlaces de ventas con la nueva funci√≥n
      document.querySelectorAll('a[href*="contacto@delfincheckin.com"]').forEach(link => {
        const href = link.getAttribute('href');
        const plan = href.includes('mensual') ? 'Plan Mensual' : 
                    href.includes('anual') ? 'Plan Anual' : 
                    href.includes('volumen') ? 'Descuento Volumen' : '';
        
        link.href = '#';
        link.onclick = (e) => {
          e.preventDefault();
          openSalesContact(plan);
        };
      });
    }

    // Inicializar botones de ventas
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initSalesButtons);
    } else {
      initSalesButtons();
    }

    // Generar tabla de gesti√≥n de reservas con datos aleatorios
    (function fillReservations(){
      const tbody = document.getElementById('res-tbody');
      if (!tbody) return;
      const firstNames = ['Daniel','Luc√≠a','Rafael','Andrea','Miguel','Sof√≠a','Carlos','Elena'];
      const lastNames  = ['G√≥mez','L√≥pez','Mart√≠nez','Ibar','Jim√©nez','Lara','P√©rez','Santos'];
      const channels = ['Manual','Booking','Airbnb','Expedia','Vrbo'];
      const states = [
        {label:'Confirmada', color:'#c7f9cc'},
        {label:'Pendiente', color:'#ffeaa7'}
      ];
      const currency = v => v.toLocaleString('es-ES', { style:'currency', currency:'EUR' });
      const rnd = (min,max) => Math.floor(Math.random()*(max-min+1))+min;
      const pad2 = n => String(n).padStart(2,'0');
      const today = new Date();

      function randDate(offsetMin=0, offsetMax=2){
        const d = new Date(today);
        d.setDate(d.getDate() + rnd(offsetMin, offsetMax));
        return `${d.getDate()}/${d.getMonth()+1}/${d.getFullYear()}`;
      }
      function randHour(){ return `${pad2(rnd(12,22))}:${pad2([0,15,30,45][rnd(0,3)])}`; }
      function randPhone(){ return `+34 6${rnd(10,99)} ${pad2(rnd(10,99))} ${pad2(rnd(10,99))}`; }

      const rows = Array.from({length:8}).map((_,i) => {
        const roomNum = rnd(1,12);
        const category = ['Individual','Doble','Triple'][rnd(0,2)];
        const guest = `${firstNames[rnd(0,firstNames.length-1)]} ${lastNames[rnd(0,lastNames.length-1)]}`;
        const arrival = `${randDate(0,1)} ${randHour()}`;
        const departure = `${randDate(2,5)}`;
        const state = states[rnd(0,states.length-1)];
        const paid  = Math.random()<0.5 ? 0 : rnd(50,120);
        const commission = paid>0 ? +(paid*0.15).toFixed(2) : 0;
        const gain = +(paid - commission).toFixed(2);
        const channel = channels[rnd(0,channels.length-1)];
        const phone = randPhone();
        const email = `${guest.split(' ')[0].toLowerCase()}${rnd(1,99)}@mail.com`;

        return `
          <tr>
            <td style="padding:10px 8px; border-bottom:1px solid var(--border)">Habitaci√≥n ${roomNum} ¬∑ ${category}</td>
            <td style="padding:10px 8px; border-bottom:1px solid var(--border)">${guest}</td>
            <td style="padding:10px 8px; border-bottom:1px solid var(--border)">${arrival}</td>
            <td style="padding:10px 8px; border-bottom:1px solid var(--border)">${departure}</td>
            <td style="padding:10px 8px; border-bottom:1px solid var(--border)"><span class="badge" style="background:${state.color}">${state.label}</span></td>
            <td style="padding:10px 8px; border-bottom:1px solid var(--border)">${currency(paid)}</td>
            <td style="padding:10px 8px; border-bottom:1px solid var(--border); color:#ef4444">${currency(commission)}</td>
            <td style="padding:10px 8px; border-bottom:1px solid var(--border); color:#16a34a">${currency(gain)}</td>
            <td style="padding:10px 8px; border-bottom:1px solid var(--border)"><span class="badge" style="background:#f1f5f9">${channel}</span></td>
            <td style="padding:10px 8px; border-bottom:1px solid var(--border)">${phone}</td>
            <td style="padding:10px 8px; border-bottom:1px solid var(--border)">${email}</td>
          </tr>`;
      }).join('');
      tbody.innerHTML = rows;
    })();
    
    // Funci√≥n para manejar contrataci√≥n de planes - ahora abre modal de Stripe
    function startPayment(planType) {
      console.log('üöÄ startPayment llamado con plan:', planType);
      openPaymentModal(planType);
    }

    // Funci√≥n para abrir el modal de pago con Stripe
    function openPaymentModal(planType) {
      console.log('üîß openPaymentModal llamado con:', planType);
      
      // Limpiar estado anterior del pago
      currentPaymentIntentId = null;
      isProcessingPayment = false;
      $('#cardErrors').textContent = '';
      
      // Destruir cardElement anterior si existe
      if (cardElement) {
        try {
          cardElement.unmount();
        } catch (e) {
          console.warn('‚ö†Ô∏è Error al destruir cardElement anterior:', e);
        }
        cardElement = null;
      }
      
      currentPlan = planType;
      const modal = $('#paymentModal');
      const planName = $('#planName');
      const planPrice = $('#planPrice');
      const planProperties = $('#planProperties');
      const totalPrice = $('#totalPrice');
      
      // Inicializar con 1 propiedad por defecto
      const properties = 1;
      
      // Configurar informaci√≥n del plan
      let planText;
      if (planType === 'monthly') {
        planText = 'Plan Mensual';
      } else if (planType === 'yearly') {
        planText = 'Plan Anual';
      } else if (planType === 'volume') {
        planText = 'Plan por Volumen';
      }
      
      // Actualizar el modal con la informaci√≥n del plan
      if (planName) planName.textContent = planText;
      
      // Llamar a updatePaymentTotal para calcular los precios correctos
      updatePaymentTotal();
      
      // Configurar el selector de propiedades
      const paymentPropertiesInput = $('#paymentProperties');
      if (paymentPropertiesInput) {
        paymentPropertiesInput.value = properties;
        // Agregar event listener para actualizar precios en tiempo real
        paymentPropertiesInput.addEventListener('input', updatePaymentTotal);
        paymentPropertiesInput.addEventListener('change', updatePaymentTotal);
      }
      
      // Inicializar Stripe Elements para mostrar los campos de la tarjeta
      initializeStripe();
      
      // Mostrar el modal
      modal.style.display = 'flex';
      document.body.style.overflow = 'hidden';
    }

    // Funci√≥n para calcular precios por volumen
    function getVolumePrice(properties) {
      if (properties === 1) return 14.99;
      if (properties === 2 || properties === 3) return 13.49;
      if (properties === 4) return 12.74;
      if (properties >= 5 && properties <= 9) return 11.99;
      if (properties >= 10) return 11.24;
      return 14.99; // Default
    }

    // Funci√≥n para actualizar el total en tiempo real
    function updatePaymentTotal() {
      const properties = parseInt($('#paymentProperties').value) || 1;
      const planProperties = $('#planProperties');
      const planPrice = $('#planPrice');
      const basePrice = $('#basePrice');
      const ivaAmount = $('#ivaAmount');
      const totalPrice = $('#totalPrice');
      
      let pricePerProperty, total, description, base, iva, totalWithVat;
      
      if (currentPlan === 'monthly') {
        pricePerProperty = getVolumePrice(properties);
        total = properties * pricePerProperty;
        base = total;
        iva = total * 0.21;
        totalWithVat = total * 1.21;
        description = `${pricePerProperty.toFixed(2)}‚Ç¨/mes`;
      } else if (currentPlan === 'yearly') {
        const monthlyPrice = getVolumePrice(properties);
        const yearlyPrice = monthlyPrice * 12;
        const annualDiscount = yearlyPrice * 0.167; // 16.7% descuento
        pricePerProperty = yearlyPrice - annualDiscount;
        total = properties * pricePerProperty;
        base = total;
        iva = total * 0.21;
        totalWithVat = total * 1.21;
        description = `${pricePerProperty.toFixed(2)}‚Ç¨/a√±o`;
      } else if (currentPlan === 'volume') {
        pricePerProperty = getVolumePrice(properties);
        total = properties * pricePerProperty;
        base = total;
        iva = total * 0.21;
        totalWithVat = total * 1.21;
        description = `${pricePerProperty.toFixed(2)}‚Ç¨/mes`;
      }
      
      // Actualizar los elementos del modal
      if (planProperties) planProperties.textContent = `${properties} propiedad${properties > 1 ? 'es' : ''}`;
      if (planPrice) planPrice.textContent = description;
      if (basePrice) basePrice.textContent = `${base.toFixed(2)}‚Ç¨`;
      if (ivaAmount) ivaAmount.textContent = `${iva.toFixed(2)}‚Ç¨`;
      if (totalPrice) totalPrice.textContent = `${totalWithVat.toFixed(2)}‚Ç¨`;
    }
    
    // Hacer las funciones globales
    window.startPayment = startPayment;
    window.openPaymentModal = openPaymentModal;
    window.updatePaymentTotal = updatePaymentTotal;
    
    // Test para verificar que los botones funcionan
    console.log('üîß Funciones cargadas:', {
      startPayment: typeof window.startPayment,
      openPaymentModal: typeof window.openPaymentModal
    });
    
    // Cache busting - √öltima actualizaci√≥n: ${new Date().toISOString()}
    console.log('Delf√≠n Check-in cargado correctamente - Versi√≥n:', new Date().toISOString());
    
    // Verificar si hay par√°metros en la URL para abrir el modal autom√°ticamente
    (function checkUrlParams() {
      const hash = window.location.hash;
      if (hash && hash.includes('openModal=true')) {
        const params = new URLSearchParams(hash.split('?')[1] || '');
        const properties = parseInt(params.get('properties')) || 1;
        const planType = params.get('plan') || 'yearly';
        
        // Establecer valores en la calculadora
        const calcProperties = $('#calcProperties');
        const calcPlan = $('#calcPlan');
        if (calcProperties) calcProperties.value = properties;
        if (calcPlan) calcPlan.value = planType;
        
        // Actualizar calculadora
        if (typeof updateCalculator === 'function') {
          updateCalculator();
        }
        
        // Establecer valores en el modal
        const paymentPropertiesInput = $('#paymentProperties');
        if (paymentPropertiesInput) {
          paymentPropertiesInput.value = properties;
        }
        
        // Abrir el modal despu√©s de un breve delay para asegurar que todo est√° cargado
        setTimeout(() => {
          if (typeof openPaymentModal === 'function') {
            openPaymentModal(planType);
          }
        }, 500);
      }
    })();
  </script>
</body>
</html>


